---
title: 陶哲轩实分析
description: 明月出天山, 苍茫云海间. 长风几万里, 吹度玉门关.
date: 2023-07-25
---

- [陶哲轩实分析](https://book.douban.com/subject/30227556/)

```
因为实分析所包含的内容非常广泛,
所以不应该强迫学生去记忆定义和定理.
因此, 我不建议采取闭卷考试,
也不建议采取那种通过对书本内容进行反刍式的压缩而做的考试.
```

> 相较于:
  [普林斯顿数学分析读本](https://book.douban.com/subject/35172355/),
  (陶) 涵盖范围更广 (勒贝格等);
  起手, 以具体问题为引, 反问: 为何需要分析? 初显大师风范!
  (普) 通篇观之, 确实堪称清晰, 但无法让人拍案.
  二者的讲解结构其实是有明显差异的, 尤其对待拓扑;
  而我显然认为 (陶) 更胜一筹.

> 至于
  [纯数学教程](https://book.douban.com/subject/35132451/),
  或是由于成书时间较早, 又或者作者立意如此.
  可以视作带有分析内核的微积分教程.

> 关于实分析入门, 此书可称最佳!
  虽说主体内容不同书籍也没有实质区别, 但是:
  一者, 部分的定义有别主流却彰显内涵, 比如三角函数的定义等;
  全书的内容衔接处处举重若轻, 一气呵成.
  二者, 真正的大师才能坦然告诉读者不必拘泥于一些"神秘"话题,
  连续统, 选择公理等; 而这些内容往往是科普书的常客 (故弄玄虚).

### 从头开始: 自然数

- [皮亚诺公理](https://en.wikipedia.org/wiki/Peano_axioms)

> 摘记一段话如下:

```
我不认为我们可以通过公理和形式逻辑为算术奠定更坚实的基础.
如果你还不同意 1 + 1 = 2, 那么,
即使你耗尽毕生研究数理逻辑也不会把这弄得更清楚.

-- Scott Aaronson, 量子计算公开课
```

```
因此, 数论中每一次伟大的进步 -- 负数, 无理数,
复数甚至是数字 0 -- 都会带来大量不必要的哲理烦恼.
数可以通过公理来抽象地理解而不需要借助任何实物模型,
这是 19 世纪后期的一个伟大发现.
```

> 哈哈: 哲理 (哲学), (自寻) 烦恼

- [序数](https://en.wikipedia.org/wiki/Ordinal_number)
  - [超限归纳法](https://en.wikipedia.org/wiki/Transfinite_induction)

### 集合论

> 纯粹集合论

```
(正则性公理) 如果 A 是一个非空集合, 那么 A 中至少存在一个元素 x 满足:
x 要么不是集合, 要么与 A 不相交. 这个公理 (也被称作基础公理)
的要点在于它断定了 A 中至少有一个元素位于对象层级结构中非常低的层级,
以至于该元素不包含 A 中的其他任何元素.
```

- (__复合是可结合的__) 设
  $$ f: Z \to W $$,
  $$ g: Y \to Z $$
  和
  $$ h: X \to Y $$
  是三个函数, 那么
  $$ f \circ (g \circ h) = (f \circ g) \circ h $$.


```
单射和满射在许多方面是互相对偶的.
```

- 一个常犯的错误是: 称一个函数
  $$ f: X \to Y $$
  是双射, 当且仅当 "对
  $$ X $$
  中任意一个
  $$ x $$,
  在
  $$ Y $$
  中恰好存在一个
  $$ y $$
  使得
  $$ y = f(x) $$".
  - 这种表述并不能说明
    $$ f $$
    是一个双射, 更确切地说, 这仅仅表明
    $$ f $$
    是一个函数.
  - 函数不能把一个元素映射成两个不同的元素.

> Page 49, 留待第八章 (无限集合) 的 __选择公理__!

```
两个集合具有相等的基数这一事实并不能排除其中一个集合包含另外一个集合的情况.
例如, 如果 X 是自然数集, Y 是偶数集.
```

### 整数和有理数

- 上述九个等式有一个统称, 它们断定全体整数构成一个`交换环`.
  - 如果我们删掉等式
    $$ xy = yx $$,
    那么只能断定全体整数构成一个`环`.

```
正如整数是通过两个自然数做减法来构造的,
有理数可以通过两个整数相除来构造,
当然我们必须注意分母不应该为零.
```

- 上述十个等式有一个统称, 它们断定有理数集
  $$ Q $$
  构成了一个`域`.
  - 这比作为一个交换环更好, 因为我们得到了第十个等式
    $$ x x^{-1} = x^{-1} x = 1 $$.

```
尽管有理数具有这种稠密性, 但是它仍然是不完备的.
在有理数之间仍然存在无穷多个"间隙"或"洞",
尽管这种稠密性确实保证了这些洞在某种意义上是无穷小的.
```

### 实数

```
实数系最终会和有理数系有很多相似的地方,
但是实数系会有一些新的运算,
尤其是上确界运算, 它将被用来定义极限,
进而被用来定义微积分所需要的任何其他概念.
```

- 定义 (__上界__) 设
  $$ E $$
  是
  $$ R $$
  的一个子集, 并且设
  $$ M $$
  是一个实数.
  - 称
    $$ M $$
    是
    $$ E $$
    的一个上界, 当且仅当对于
    $$ E $$
    中任意一个元素
    $$ x $$
    都有
    $$ x ≤ M $$.

- 定义 (__最小上界__) 设
  $$ E $$
  是
  $$ R $$
  的一个子集, 且
  $$ M $$
  是一个实数. 称
  $$ M $$
  是
  $$ E $$
  的一个`最小上界`, 当且仅当
  - (a)
    $$ M $$
    是
    $$ E $$
    的一个上界, 同时
  - (b)
    $$ E $$
    的任意其他上界
    $$ M' $$
    一定大于或等于
    $$ M $$.

- 定理 (__最小上界的存在性__) 设
  $$ E $$
  是
  $$ R $$
  的一个非空子集, 如果
  $$ E $$
  有一个上界 (即
  $$ E $$
  有一个上界
  $$ M $$),
  那么它必定恰好有一个最小上界.

- 定义 (__上确界__) 设
  $$ E $$
  是实数集的一个子集, 如果
  $$ E $$
  是非空的并且存在一个上界, 那么我们定义
  $$ \sup(E) $$
  为
  $$ E $$
  的最小上界. 我们引入两个额外的符号
  $$ +∞ $$
  和
  $$ -∞ $$.
  - 如果
    $$ E $$
    是非空的并且没有上界, 那么我们令
    $$ \sup(E) := +∞ $$;
  - 如果
    $$ E $$
    是空集, 我们令
    $$ \sup(E) := -∞ $$.
  - 称
    $$ \sup(E) $$
    是
    $$ E $$
    的`上确界`, 也记作
    $$ \sup \mbox{ } E $$.

### 序列的极限

> 柯西序列

- 命题 (__单调有界序列收敛__) 设
  $$ (a_n)_{n = m}^{\infty} $$
  是一个实数序列, 它存在一个有限的上界
  $$ M \in R $$,
  并且它还是单调递增的 (即对所有的
  $$ n ≥ m $$,
  均有
  $$ a_{n + 1} ≥ a_n $$).
  那么
  $$ (a_n)_{n = m}^{\infty} $$
  是收敛的, 并且实际上
  - $$
      \lim_{n \to \infty} a_n =
      \sup(a_n)_{n = m}^{\infty} ≤ M
    $$

- 推论 (__夹逼定理__) 设
  $$ (a_n)_{n = m}^{\infty} $$,
  $$ (b_n)_{n = m}^{\infty} $$
  和
  $$ (c_n)_{n = m}^{\infty} $$
  都是实数序列, 并且它们满足对所有的
  $$ n ≥ m $$
  均有
  $$ a_n ≤ b_n ≤ c_n $$
  - 如果
    $$ (a_n)_{n = m}^{\infty} $$
    和
    $$ (c_n)_{n = m}^{\infty} $$
    收敛于同一个极限
    $$ L $$,
    那么
    $$ (b_n)_{n = m}^{\infty} $$
    也收敛于
    $$ L $$.

- 推论 (__序列的零判别法__) 设
  $$ (a_n)_{n = m}^{\infty} $$
  是一个实数序列, 那么极限
  $$ \lim_{n \to \infty} a_n $$
  存在且等于
  $$ 0 $$,
  当且仅当极限
  $$ \lim_{n \to \infty} \mid a_n \mid $$
  存在且等于
  $$ 0 $$.

- 定理 (__实数的完备性__) 实数序列
  $$ (a_n)_{n = 1}^{\infty} $$
  是柯西序列, 当且仅当它是收敛的.

```
用度量空间的语言来说, 上述定理断定了实数集是一个完备的度量空间,
即实数集不像有理数集那样包含 "洞".
当然, 有理数上有大量柯西序列并不收敛于任何有理数.
这种性质与最小上界的性质密切相关. 而且在分析理论研究方面
(取极限, 求导数和积分, 找函数的零点以及其他类似的运算),
完备性是实数优于有理数的基本特征之一.
```

### 级数

- 推论 (__零判别法__) 设
  $$ \sum_{n = m}^{\infty} a_n $$
  是一个收敛的实数级数, 那么我们一定有
  $$ \lim_{n \to \infty} a_n = 0 $$.
  - 换言之, 如果
    $$ \lim_{n \to \infty} a_n $$
    不为零或者是发散的, 那么级数
    $$ \sum_{n = m}^{\infty} a_n $$
    是发散的.

- 定义 (__绝对收敛__) 设
  $$ \sum_{n = m}^{\infty} a_n $$
  是一个实数的形式级数, 我们称这个级数是`绝对收敛`的, 当且仅当级数
  $$ \sum_{n = m}^{\infty} | a_n | $$
  是收敛的.
  - 为了区分收敛和绝对收敛, 有时我们把收敛称作`条件收敛`.

- 命题 (__交错级数判别法__) 设
  $$ (a_n)_{n = m}^{\infty} $$
  是一个非负的且递减的实数序列, 于是对任意的
  $$ n ≥ m $$
  均有
  $$ a_n ≥ 0 $$
  和
  $$ a_n ≥ a_{n + 1} $$.
  - 那么级数
    $$ \sum_{n = m}^{\infty} (-1)^{n} a_n $$
    是收敛的, 当且仅当
    $$ n \to \infty $$
    时序列
    $$ (a_n)_{n = m}^{\infty} $$
    收敛于
    $$ 0 $$.

- 推论 (__比较判别法__) 设
  $$ \sum_{n = m}^{\infty} a_n $$
  和
  $$ \sum_{n = m}^{\infty} b_n $$
  都是实数的形式级数, 并且对任意的
  $$ n ≥ m $$
  均有
  $$ | a_n | ≤ b_n $$.
  所以, 如果
  $$ \sum_{n = m}^{\infty} b_n $$
  是收敛的, 那么
  $$ \sum_{n = m}^{\infty} a_n $$
  是绝对收敛的, 而且实际上
  - $$
      | \sum_{n = m}^{\infty} a_n | ≤
      \sum_{n = m}^{\infty} | a_n | ≤
      \sum_{n = m}^{\infty} b_n
    $$

- 引理 (__几何级数__) 设
  $$ x $$
  是实数, 如果
  $$ | x | ≥ 1 $$,
  那么级数
  $$ \sum_{n = 0}^{\infty} x^n $$
  是发散的. 但如果
  $$ | x | < 1 $$,
  那么这个级数是绝对收敛的, 并且
  - $$ \sum_{n = 0}^{\infty} x^n = \frac{1}{1 - x} $$

---

- 命题 (__柯西准则__) 设
  $$ (a_n)_{n = 1}^{\infty} $$
  是一个递减的非负实数序列 (于是对所有的
  $$ n ≥ 1 $$,
  均有
  $$ a_n ≥ 0 $$
  和
  $$ a_{n + 1} ≤ a_n $$).
  那么级数
  $$ \sum_{n = 1}^{\infty} a_n $$
  是收敛的, 当且仅当级数
  $$
    \sum_{k = 0}^{\infty} 2^k a_{2^k} =
    a_1 + 2 a_2 + 4 a_4 + 8 a_8 + ...
  $$
  是收敛的.
  - __注__ 该准则有一个有趣的特点是, 它仅仅用了序列
    $$ (a_n)_{n = 1}^{\infty} $$
    中一小部分项 (即那些指标
    $$ n $$
    为
    $$ 2 $$
    的方幂
    $$ n = 2^k $$
    的项) 就判定了整个级数是否收敛.

- 推论 设
  $$ q > 0 $$
  是一个有理数, 那么当
  $$ q > 1 $$
  时, 级数
  $$ \sum_{n = 1}^{\infty} 1 / n^q $$
  是收敛的; 当
  $$ q ≤ 1 $$
  时, 该级数是发散的.

  - 特别地, 如前文所述, 级数
    $$ \sum_{n = 1}^{\infty} 1 / n $$
    (也被称作`调和级数`) 是发散的, 但级数
    $$ \sum_{n = 1}^{\infty} 1 / n^2 $$
    是收敛的.
  - 注 当
    $$ \sum_{n = 1}^{\infty} 1 / n^q $$
    收敛时, 它的和记作
    $$ ζ(q) $$,
    并被称为
    $$ q $$
    的`黎曼-西塔函数`. 这个函数在数论中非常重要,
    特别是在素数分布的研究中尤为重要.
  - 关于这个函数, 有一个非常著名的未解难题叫作黎曼假设,
    但对这个问题的进一步讨论远远超出了本书的范围.

```
当一个级数绝对收敛时, 对它进行重排列是安全的;
而当级数不绝对收敛时, 对它进行重排列就存在一定的危险.
这并不是说, 对一个不绝对收敛的级数进行重排列就必然给出错误的结果.
例如, 在理论物理学中, 人们经常采用类似的策略但最后仍然常常得到一个正确的结果.
```

- 推论 (__比值判别法__) 设
  $$ \sum_{n = m}^{\infty} a_n $$
  是一个所有项都不为零的级数 (不为零的假设是为了保证下文中的比值
  $$ | a_{n + 1} | / | a_n | $$
  是有意义的).
  - 如果
    $$
      \lim \sup_{n \to \infty}
      \frac{| a_{n + 1} |}{| a_n |} < 1
    $$,
    那么级数
    $$ \sum_{n = m}^{\infty} a_n $$
    是绝对收敛的 (从而是条件收敛的).
  - 如果
    $$
      \lim \inf_{n \to \infty}
      \frac{| a_{n + 1} |}{| a_n |} > 1
    $$,
    那么级数
    $$ \sum_{n = m}^{\infty} a_n $$
    不是条件收敛的 (从而不可能是绝对收敛的).
  - 在其余情况下, 我们无法给出任何结论.

### 无限集合

- 命题 (__良序原理__) 设
  $$ X $$
  是自然数集
  $$ N $$
  的一个非空子集, 那么恰好存在一个元素
  $$ n \in X $$,
  使得对所有的
  $$ m \in X $$
  都有
  $$ n ≤ m $$.
  - 换言之, 任意一个元素为自然数的非空集合都有一个最小元素.

- 推论 如果
  $$ X $$
  和
  $$ Y $$
  都是可数集, 那么
  $$ X \times Y $$
  也是可数集.

- 推论 有理数集
  $$ Q $$
  是可数集.

- 注 因为有理数集是可数集, 所以从原则上来说可以把有理数集排成一个序列:
  - $$ Q = \{ a_0, a_1, a_2, a_3, ... \} $$
  - 其中, 序列中的每一项与其他任意一项都不相等, 并且该序列穷尽了
    $$ Q $$
    中的所有元素 (即每一个有理数都成为序列中的某一项
    $$ a_n $$).
  - 但是尝试真正地找到这样一个具体序列
    $$ a_0 $$,
    $$ a_1 $$,
    ... 是非常困难的 (尽管这是有可能的).

```
只要整个级数的和是绝对收敛的, 我们就可以交换无限和的次序.
```

- 定理 设
  $$ \sum_{n = 0}^{\infty} a_n $$
  是一个条件收敛但不绝对收敛的级数, 并设
  $$ L $$
  是任意一个实数那么存在一个双射
  $$ f: N \to N $$
  使得
  $$ \sum_{m = 0}^{\infty} a_{f(m)} $$
  条件收敛于
  $$ L $$.

```
人们也许会问, 是否存在某个集合使得该集合的基数严格大于自然数集的基数,
同时又严格小于实数集的基数. 连续统假设断言不存在这样的集合.
这个假设独立于集合论的其他公理; 它既不能用那些公理来证明,
也无法被那些公理否定 (除非那些公理是不一致的, 而这不太可能).
```

```
我们可以把选择公理看作分析理论中一个方便, 安全且节省劳动力的工具.
在数学的其他领域中, 特别是在集合论中, 许多问题都不是可判定的,
是否接受选择公理存在争议, 并且还受到了哲学方面的关注,
就如同在数学和逻辑学方面受到关注一样. 但在本书中, 我们不讨论这些问题.
```

- 选择公理的另一种表述如下. 命题 设
  $$ X $$
  和
  $$ Y $$
  是集合, 并且设关于对象
  $$ x \in X $$
  和对象
  $$ y \in Y $$
  的性质
  $$ P(x, y) $$
  满足:
  - 对每一个
    $$ x \in X $$
    都至少存在一个
    $$ y \in Y $$
    使得
    $$ P(x, y) $$
    为真, 那么存在一个函数
    $$ f: X \to Y $$
    使得
    $$ P(x, f(x)) $$
    对所有的
    $$ x \in X $$
    均为真.

```
许多定理的确是用选择公理来证明的,
并且它们断定了具有一定性质的某个对象 x 的抽象存在,
而根本没有说明这个对象是什么以及如何来构造它.
因此, 选择公理可以推导出一些非构造性的证明, 仅阐述一个对象的存在性,
而没有真正地把这个对象具体地构造出来. 这并非选择公理独有的问题.
```

- 定义 (__全序集__) 设
  $$ X $$
  是一个偏序集, 并且
  $$ ≤_{X} $$
  是
  $$ X $$
  上的序关系. 如果对于任意给定的
  $$ y, y' \in Y $$,
  我们有
  $$ y ≤_{X} y' $$
  或
  $$ y' ≤_{X} y $$
  (或两者皆成立), 那么
  $$ X $$
  的子集
  $$ Y $$
  是`全序`的.
  - 如果
    $$ X $$
    本身是全序的, 那么我们称
    $$ X $$
    是一个附加了序关系
    $$ ≤_{X} $$
    的`全序集` (或`链`).

- 自然数集
  $$ N $$,
  整数集
  $$ Z $$,
  有理数集
  $$ Q $$,
  实数集
  $$ R $$
  以及广义实数集
  $$ R^* $$
  附加上通常的序关系
  $$ ≤ $$
  之后都是全序的. 而且全序集的任意一个子集也是全序的.
  - 另外, 由集合构成的整体附加上包含关系
    $$ \subseteq $$
    通常不是全序的.
  - 例如, 如果
    $$ X $$
    是集合
    $$ \{\{ 1, 2 \}, \{ 2 \}, \{ 2, 3 \}, \{ 2, 3, 4 \}, \{ 5 \}\} $$,
    并把集合的包含关系
    $$ \subseteq $$
    作为
    $$ X $$
    上的序关系, 那么
    $$ X $$
    的元素
    $$ \{ 1, 2 \} $$
    和
    $$ \{ 2, 3 \} $$
    是无法互相比较的 (即
    $$ \{ 1, 2 \} \nsubseteq \{ 2, 3 \} $$
    且
    $$ \{ 2, 3 \} \nsubseteq \{ 1, 2 \} $$).

- 定义 (__良序集__) 设
  $$ X $$
  是一个偏序集, 并且设
  $$ Y $$
  是
  $$ X $$
  的一个全序子集.
  - 如果
    $$ Y $$
    的每一个非空子集都有最小元素, 那么
    $$ Y $$
    是`良序`的.

- 引理 (__佐恩引理__) 设
  $$ X $$
  是一个具有如下性质的非空偏序集, 即
  $$ X $$
  的每一个全序子集
  $$ Y $$
  都有一个上界, 那么
  $$ X $$
  至少有一个最大元素.

### R 上的连续函数

- 引理
  $$ N $$
  的闭包是
  $$ N $$,
  $$ Z $$
  的闭包是
  $$ Z $$,
  $$ Q $$
  的闭包是
  $$ R $$,
  $$ R $$
  的闭包是
  $$ R $$.
  - 空集
    $$ \varnothing $$
    的闭包是
    $$ \varnothing $$.

- 定理 (__直线上的海涅-博雷尔定理__) 设
  $$ X $$
  是
  $$ R $$
  的一个子集, 那么下面两个命题是等价的:
  - (a)
    $$ X $$
    是闭的且有界的.
  - (b) 给定任意一个在
    $$ X $$
    中取值 (即对所有的
    $$ n $$
    均有
    $$ a_n \in X $$)
    的实数序列
    $$ (a_n)_{n = 0}^{\infty} $$,
    存在它的一个子序列
    $$ (a_{n_j})_{j = 0}^{\infty} $$
    收敛于
    $$ X $$
    中的某个数
    $$ L $$.

- 函数
  $$ f $$
  在点
  $$ x_0 $$
  的左极限
  $$ f(x_0 -) $$
  和右极限
  $$ f(x_0 +) $$
  有可能同时存在但不相等. 此时, 我们称
  $$ f $$
  在
  $$ x_0 $$
  处有一个`跳跃间断点`.
  - 另外, 左极限
    $$ f(x_0 -) $$
    和右极限
    $$ f(x_0 +) $$
    也有可能同时存在且相等, 但都不等于
    $$ f(x_0) $$.
  - 此时, 我们称
    $$ f $$
    在
    $$ x_0 $$
    处有一个`可去间断点` (或`可去奇点`).

```
现在我们知道在闭区间上, 每一个连续的函数都是有界的并且至少有一次达到它的最大值,
也至少有一次达到它的最小值. 但对于开区间和无限区间而言, 上述结论就不成立了.

在复分析或偏微分方程中, 你可能会遇到相当不同的"最大值原理",
其中连续函数在复分析和偏微分方程中将分别被替换成解析函数和调和函数.
那些最大值原理与这里的并没有直接的关联
(尽管它们也涉及最大值是否存在以及在哪里达到最大值).
```

- 定义 (__一致连续__) 设
  $$ X $$
  是
  $$ R $$
  的一个子集, 并且设
  $$ f: X \to R $$
  是一个函数. 我们称
  $$ f $$
  是`一致连续`的, 如果对于任意的
  $$ ε > 0 $$,
  都存在一个
  $$ δ > 0 $$
  使得只要
  $$ x, x_0 \in X $$
  是
  $$ X $$
  中`δ-接近`的两个点,
  $$ f(x) $$
  和
  $$ f(x_0) $$
  就是`ε-接近`的.

- 一致连续和连续之间的区别在于, 在一致连续中我们可以取到单独一个
  $$ δ $$
  使得这个
  $$ δ $$
  对所有的
  $$ x_0 \in X $$
  均适用; 而对于一般的连续, 不同的
  $$ x_0 \in X $$
  可能使用了不同的
  $$ δ $$.
  - 因此, 每一个一致连续的函数都是连续的, 反之不成立.

- 引理 设
  $$ (a_n)_{n = 1}^{\infty} $$
  和
  $$ (b_n)_{n = 1}^{\infty} $$
  都是实数序列 (不必是有界的或收敛的), 那么
  $$ (a_n)_{n = 1}^{\infty} $$
  和
  $$ (b_n)_{n = 1}^{\infty} $$
  是等价的当且仅当
  $$ \lim_{n \to \infty} (a_n - b_n) = 0 $$.

- 同时, 一致连续的概念可以用等价序列来描述.

- 命题 设
  $$ X $$
  是
  $$ R $$
  的一个子集, 并且设
  $$ f: X \to R $$
  是一个函数, 那么下述两个命题在逻辑上是等价的:
  - (a)
    $$ f $$
    在
    $$ X $$
    上是一致连续的.
  - (b) 如果
    $$ (x_n)_{n = 0}^{\infty} $$
    和
    $$ (y_n)_{n = 0}^{\infty} $$
    是由
    $$ X $$
    中元素构成的两个等价序列, 那么序列
    $$ (f(x_n))_{n = 0}^{\infty} $$
    和
    $$ (f(y_n))_{n = 0}^{\infty} $$
    也是等价的.

- 命题 设
  $$ X $$
  是
  $$ R $$
  的一个子集,
  $$ f: X \to R $$
  是一致连续的函数, 并且设
  $$ (x_n)_{n = 0}^{\infty} $$
  是完全由
  $$ X $$
  中的元素构成的柯西序列, 那么
  $$ (f(x_n))_{n = 0}^{\infty} $$
  也是一个柯西序列.

- 命题 设
  $$ X $$
  是
  $$ R $$
  的一个子集, 并且设
  $$ f: X \to R $$
  是一致连续的函数. 如果
  $$ E $$
  是
  $$ X $$
  的一个有界子集, 那么
  $$ f(E) $$
  也是有界的.

```
就像我们刚才反复看到的那样, 并非所有的连续函数都是一致连续的.
但是, 如果函数的定义域是一个闭区间, 那么连续函数实际上就是一致连续函数.
```

- 定理 设
  $$ a < b $$
  都是实数, 并且设
  $$ f: [a, b] \to R $$
  是
  $$ [a, b] $$
  上的连续函数, 那么
  $$ f $$
  也是一致连续的.

### 函数的微分

- 推论 (__中值定理__) 设
  $$ a < b $$
  都是实数, 设
  $$ f: [a, b] \to R $$
  是一个在
  $$ [a, b] $$
  上连续并且在
  $$ (a, b) $$
  上可微的函数, 那么存在一个
  $$ x \in (a, b) $$
  使得
  $$ f'(x) = \frac{f(b) - f(a)}{b - a} $$.

- 定理 (__反函数定理__) 设
  $$ f: X \to Y $$
  是一个可逆函数, 它的反函数是
  $$ f^{-1}: Y \to X $$,
  设
  $$ x_0 \in X $$
  和
  $$ y_0 \in Y $$
  使得
  $$ f(x_0) = y_0 $$.
  如果
  $$ f $$
  在
  $$ x_0 $$
  处是可微的,
  $$ f^{-1} $$
  在
  $$ y_0 $$
  处是连续的, 并且
  $$ f'(x_0) ≠ 0 $$,
  那么
  $$ f^{-1} $$
  在
  $$ y_0 $$
  处可微, 并且有
  - $$ (f^{-1})'(y_0) = \frac{1}{f'(x_0)} $$

---

- 通俗地说, 这个命题给出了
  - $$
      \lim_{x \to a} \frac{f(x)}{g(x)} =
      \lim_{x \to a} \frac{f'(x)}{g'(x)}
    $$
  - 当然, 在使用`洛必达法则`之前, 我们必须保证该命题的所有条件都成立.
  - 特别是
    $$ f(a) = g(a) = 0 $$
    以及右侧的极限存在.

### 黎曼积分

- 定义 (__公共加细__) 设
  $$ I $$
  是一个有界区间, 并且设
  $$ P $$
  和
  $$ P' $$
  是
  $$ I $$
  的两个划分, 我们定义
  $$ P $$
  和
  $$ P' $$
  的`公共加细`
  $$ P \# P' $$
  为集合
  - $$ P \# P' := \{ K \cap J: K \in P \mbox{ 且 } J \in P' \} $$

- 引理 设
  $$ I $$
  是一个有界区间, 并且设
  $$ P $$
  和
  $$ P' $$
  是
  $$ I $$
  的两个划分, 那么
  $$ P \# P' $$
  也是
  $$ I $$
  的一个划分, 并且它既比
  $$ P $$
  更细, 也比
  $$ P' $$
  更细.

- 定义 (__黎曼积分__) 设
  $$ f: I \to R $$
  是定义在有界区间
  $$ I $$
  上的有界函数, 如果
  $$ \underline{\int}_I f = \overline{\int}_I f $$,
  那么我们称
  $$ f $$
  在
  $$ I $$
  上是`黎曼可积`的并定义
  - $$ \int_I f := \underline{\int}_I f = \overline{\int}_I f $$
  - 如果上黎曼积分和下黎曼积分不相等, 那么我们称
    $$ f $$
    不是黎曼可积的.

---

- 定理 设
  $$ I $$
  是一个有界区间, 并且设
  $$ f $$
  是定义在
  $$ I $$
  上的一致连续函数, 那么
  $$ f $$
  是黎曼可积的.

- 推论 设
  $$ [a, b] $$
  是一个闭区间, 并且设
  $$ f: [a, b] \to R $$
  是连续的, 那么
  $$ f $$
  是黎曼可积的.

- 命题 设
  $$ I $$
  是一个有界区间, 并且设
  $$ f: I \to R $$
  是一个连续且有界的函数, 那么
  $$ f $$
  在
  $$ I $$
  上是黎曼可积的.

- 命题 设
  $$ I $$
  是一个有界区间, 并且设
  $$ f: I \to R $$
  既是分段连续的又是有界的, 那么
  $$ f $$
  是黎曼可积的.

- 命题 设
  $$ [a, b] $$
  是一个有界闭区间, 并且设
  $$ f: [a, b] \to R $$
  是单调函数, 那么
  $$ f $$
  在
  $$ [a, b] $$
  上是黎曼可积的.

- 推论 设
  $$ I $$
  是一个有界区间, 并且设
  $$ f: I \to R $$
  既是单调的又是有界的, 那么
  $$ f $$
  在
  $$ I $$
  上是黎曼可积的.

---

- 命题 (__积分判别法__) 设
  $$ f: [0, +∞) \to R $$
  是一个单调递减的函数, 并且它是非负的 (即对所有的
  $$ x ≥ 0 $$,
  均有
  $$ f(x) ≥ 0 $$),
  那么级数
  $$ \sum_{n = 0}^{\infty} f(n) $$
  是收敛的, 当且仅当
  $$ \sup_{N > 0} \int_{[0, N]} f $$
  是有限的.

- 推论 设
  $$ p $$
  是一个实数, 那么当
  $$ p > 1 $$
  时, 级数
  $$ \sum_{n = 1}^{\infty} \frac{1}{n^p} $$
  是绝对收敛的; 而当
  $$ p ≤ 1 $$
  时, 它是发散的.

- 定理 (__微积分第一基本定理__) 设
  $$ a < b $$
  都是实数,
  $$ f: [a, b] \to R $$
  是黎曼可积的函数, 并且设
  $$ F: [a, b] \to R $$
  是函数
  - $$ F(x) := \int_{[a, x]} f $$
  - 那么
    $$ F $$
    是连续的.
  - 另外, 如果
    $$ x_0 \in [a, b] $$
    并且
    $$ f $$
    在
    $$ x_0 $$
    处连续, 那么
    $$ F $$
    在
    $$ x_0 $$
    处可微并且
    $$ F' (x_0) = f(x_0) $$.

- 定理 (__微积分第二基本定理__) 设
  $$ a < b $$
  是实数, 并且设
  $$ f: [a, b] \to R $$
  是一个黎曼可积的函数. 如果
  $$ F: [a, b] \to R $$
  是
  $$ f $$
  的原函数, 那么
  - $$ \int_{[a, b]} f = F(b) - F(a) $$

- 命题 (__分部积分法__) 设
  $$ I = [a, b] $$,
  设
  $$ F: [a, b] \to R $$
  和
  $$ G: [a, b] \to R $$
  都是
  $$ [a, b] $$
  上的可微函数, 并且
  $$ F' $$
  和
  $$ G' $$
  在
  $$ I $$
  上都是黎曼可积的. 那么我们有
  - $$ \int_{[a, b]} F G' = F(b) G(b) - F(a) G(a) - \int_{[a, b]} F' G $$

- 命题 (__变量替换公式__) 设
  $$ [a, b] $$
  是一个闭区间,
  $$ ϕ: [a, b] \to [ϕ(a), ϕ(b)] $$
  是一个单调递增的可微函数, 而且使得
  $$ ϕ' $$
  是黎曼可积的. 设
  $$ f: [ϕ(a), ϕ(b)] \to R $$
  是
  $$ [ϕ(a), ϕ(b)] $$
  上的黎曼可积的函数, 那么
  $$ (f \circ ϕ) ϕ' : [a, b] \to R $$
  在
  $$ [a, b] $$
  上是黎曼可积的, 并且
  - $$ \int_{[a, b]} (f \circ ϕ) ϕ' = \int_{[ϕ(a), ϕ(b)]} f $$

> 第一部分结束; __第二部分开始__!

### 度量空间

```
从数学角度来说, 空间和集合之间没有太大的区别, 但与随机的集合相比,
空间会包含更多的结构. 例如, 实数空间包含了像加法, 乘法这样的运算,
但普通的集合就没有这些运算. 实际上, 存在两种非常有用的空间.
第一种是我们将要研究的度量空间; 而另一种是更一般的拓扑空间.

粗略地说, 度量空间就是任意一个包含了距离 d(x, y) 的空间 X,
并且这个距离还应当满足某些合理的性质.
```

- 定义 (__度量空间__) `度量空间`
  $$ (X, d) $$
  是一个空间
  $$ X $$
  ($$ X $$
  中的元素被称作点), 而且
  $$ X $$
  还包含了一个`距离函数`或者`度量`
  $$ d: X \times X \to [0, + \infty) $$,
  它把
  $$ X $$
  中的每对点
  $$ (x, y) $$
  对应到一个非负实数
  $$ d(x, y) ≥ 0 $$
  上. 此外, 这个度量还必须满足下面四个公理:
  - (a) 对任意的
    $$ x \in X $$,
    我们有
    $$ d(x, x) = 0 $$.
  - (b) (__正性__) 对任意两个不同的
    $$ x, y \in X $$,
    我们有
    $$ d(x, y) > 0 $$.
  - (c) (__对称性__) 对任意的
    $$ x, y \in X $$,
    我们有
    $$ d(x, y) = d(y, x) $$.
  - (d) (__三角不等式__) 对任意的
    $$ x, y, z \in X $$,
    我们有
    $$ d(x, z) ≤ d(x, y) + d(y, z) $$.
  - 在很多情况下, 我们能清楚地知道度量
    $$ d $$
    是什么, 从而可以把
    $$ (X, d) $$
    简写成
    $$ X $$.

- $$ R^n $$
  上的欧几里得度量, 出租车度量以及上确界范数度量是等价的.
  - 欧几里得度量, 出租车度量以及上确界范数度量可以推广到无限维的情况,
    但在那种情况下三者并不等价.

```
就离散度量而言, 序列收敛的情况非常罕见:
如果序列是收敛的, 那么该序列最终必定会变成一个常数.
```

- 注意, 半径
  $$ r $$
  越小, 球
  $$ B(x_0, r) $$
  就越小. 然而根据定义可知, 只要
  $$ r $$
  是正数, 球
  $$ B(x_0, r) $$
  就总是至少包含一个点, 即中心
  $$ x_0 $$.
  - 我们不考虑半径为零或负数的球, 因为它们相当无趣, 都是空集而已.
- 利用度量球, 我们可以在度量空间
  $$ X $$
  中取一个集合
  $$ E $$,
  并把
  $$ X $$
  中的点划分成三类:
  $$ E $$
  的内点,
  $$ E $$
  的外点和
  $$ E $$
  的边界点.

> 注意: 度量球不包含边界.

- $$ E $$
  的所有内点构成的集合叫作
  $$ E $$
  的`内部`, 有时记作
  $$ \mbox{int}(E) $$.
  $$ E $$
  的所有外点构成的集合叫作
  $$ E $$
  的`外部`, 有时记作
  $$ \mbox{ext} (E) $$.
  $$ E $$
  的所有边界点构成的集合叫作
  $$ E $$
  的`边界`, 有时记作
  $$ \partial E $$.
  - 如果
    $$ x_0 $$
    是
    $$ E $$
    的边界点, 那么它有可能是
    $$ E $$
    中的元素, 也有可能不在
    $$ E $$
    中.

> 比如: 半开实区间～

- 定义 (__闭包__) 设
  $$ (X, d) $$
  是一个度量空间,
  $$ E $$
  是
  $$ X $$
  的一个子集, 并且设
  $$ x_0 $$
  是
  $$ X $$
  中的一个点. 如果对任意的半径
  $$ r > 0 $$,
  球
  $$ B(x_0, r) $$
  与
  $$ E $$
  的交集总是非空的, 那么我们称
  $$ x_0 $$
  是
  $$ E $$
  的`附着点`.
  - $$ E $$
    的所有附着点构成的集合叫作
    $$ E $$
    的闭包, 并记为
    $$ \overline{E} $$.

- 命题 设
  $$ (X, d) $$
  是一个度量空间,
  $$ E $$
  是
  $$ X $$
  的一个子集, 并且设
  $$ x_0 $$
  是
  $$ X $$
  中的一个点. 那么, 下述命题在逻辑上是等价的.
  - (a)
    $$ x_0 $$
    是
    $$ E $$
    的附着点.
  - (b)
    $$ x_0 $$
    要么是
    $$ E $$
    的内点, 要么是
    $$ E $$
    的边界点.
  - (c) 在
    $$ E $$
    中能够找到一个依度量
    $$ d $$
    收敛于点
    $$ x_0 $$
    的序列
    $$ (x_n)_{n = 1}^{\infty} $$.

- 定义 (__开集和闭集__) 设
  $$ (X, d) $$
  是一个度量空间,
  $$ E $$
  是
  $$ X $$
  的一个子集. 如果
  $$ E $$
  包含了自身所有的边界点, 即
  $$ \partial E \subseteq E $$,
  那么我们称
  $$ E $$
  是`闭的`. 如果
  $$ E $$
  不包含自身的任何边界点, 即
  $$ \partial E \cap E = \varnothing $$,
  那么我们称
  $$ E $$
  是`开的`.
  - 如果
    $$ E $$
    只包含了一部分边界点, 而不包含其他边界点, 那么
    $$ E $$
    既不是开的也不是闭的.

- 注 如果一个集合没有边界, 那么它就同时既是开的又是闭的. 例如, 在度量空间
  $$ (X, d) $$
  中, 整个空间
  $$ X $$
  是没有边界的,
  ($$ X $$
  中的每一个点都是
  $$ X $$
  的内点.) 因此
  $$ X $$
  既是开的又是闭的. 空集
  $$ \varnothing $$
  也没有边界,
  ($$ \varnothing $$
  中的每一个点都是它的外点.) 所以
  $$ \varnothing $$
  既是开的又是闭的.

> 注: 开集和闭集的基本性质, Page 261

- 考虑度量空间
  $$ (Q, d) $$
  中的序列
  ($$ Q $$
  是具有通常度量
  $$ d(x, y) := |x - y| $$
  的有理数集):
  $$ 3, 3.1, 3.14, 3.141, 3.1415, ... $$
  - 虽然该序列在
    $$ R $$
    中是收敛的 (收敛于
    $$ π $$),
    但它在
    $$ Q $$
    中却是不收敛的 (因为
    $$ π \notin Q $$,
    而且一个序列不可能收敛于两个不同的极限).
  - 因此, 在某些度量空间中, 柯西序列不一定收敛.
  - 但是, 如果柯西序列存在一个收敛的子序列,
    那么这个柯西序列就一定收敛 (收敛于同一个极限).

- 定义 (__完备度量空间__) 度量空间
  $$ (X, d) $$
  是`完备`的, 当且仅当
  $$ (X, d) $$
  中的每一个柯西序列在
  $$ (X, d) $$
  中都是收敛的.
  - 实数空间
    $$ (R, d) $$
    是完备的; 另外, 有理数空间
    $$ (Q, d) $$
    不是完备的.
- 完备度量空间具有一些非常好的性质. 例如, __完备度量空间总是闭的__:
  不管把它放在什么样的空间中, 它总是一个闭集. 更准确地说:
  - (a) 设
    $$ (X, d) $$
    是一个度量空间, 并设
    $$ (Y, d|_{Y \times Y}) $$
    是
    $$ (X, d) $$
    的一个子空间. 如果
    $$ (Y, d|_{Y \times Y}) $$
    是完备的, 那么
    $$ Y $$
    一定是
    $$ X $$
    中的闭集.
  - (b) 反过来, 如果
    $$ (X, d) $$
    是一个完备度量空间, 并且
    $$ Y $$
    是
    $$ X $$
    的一个闭子集, 那么, 子空间
    $$ (Y, d|_{Y \times Y}) $$
    也是完备的.

---

- 定义 (__紧致性__) 称度量空间
  $$ (X, d) $$
  是`紧致`的, 当且仅当
  $$ (X, d) $$
  中的每一个序列都至少有一个收敛的子序列. 如果
  $$ (X, d) $$
  的子空间
  $$ (Y, d|_{Y \times Y}) $$
  是`紧致`的, 那么称
  $$ X $$
  的子集
  $$ Y $$
  是紧致的.
  - 注 集合
    $$ Y $$
    的紧致性是其`内在属性`, 也就是说, 它只与限制在
    $$ Y $$
    上的度量函数
    $$ d|_{Y \times Y} $$
    有关, 而与环绕空间
    $$ X $$
    无关. 完备性概念和有界性概念也都是内在的, 但`开的`和`闭的`概念则不是内在属性.
  - 因此, 在具有通常度量的实直线
    $$ R $$
    中, 每一个有界闭集都是紧致的. 反过来, 每一个紧致集合都是闭的且有界的.

- 定义 (__有界集合__) 设
  $$ (X, d) $$
  是一个度量空间, 并设
  $$ Y $$
  是
  $$ X $$
  的子集. 我们称
  $$ Y $$
  是有界的, 当且仅当
  $$ X $$
  中存在一个包含
  $$ Y $$
  的球
  $$ B(x, r) $$.

- 命题 设
  $$ (X, d) $$
  是一个紧致度量空间, 那么
  $$ (X, d) $$
  既是完备的又是有界的.

- 推论 (__紧致集合是闭的且有界的__) 设
  $$ (X, d) $$
  是一个度量空间, 并设
  $$ Y $$
  是
  $$ X $$
  的一个紧致子集, 那么
  $$ Y $$
  是闭的且有界的.

- 定理 (__海涅-博雷尔定理__) 设
  $$ (R^n, d) $$
  是一个欧几里得空间, 它的度量是欧几里得度量,
  出租车度量或者上确界范数度量, 并且设
  $$ E $$
  是
  $$ R^n $$
  的子集, 那么
  $$ E $$
  是紧致的, 当且仅当
  $$ E $$
  是一个有界闭集.

```
对于度量空间, 用覆盖来描述的紧致性概念和用序列来描述的紧致性概念是等价的.
但是, 对于更一般的拓扑空间, 这两种概念就有些不同了.
```

### 度量空间上的连续函数

- 定义 (__连续函数__) 设
  $$ (X, d_X) $$
  是一个度量空间,
  $$ (Y, d_Y) $$
  是另一个度量空间, 并设
  $$ f: X \to Y $$
  是一个函数. 设
  $$ x_0 \in X $$,
  我们称
  $$ f $$
  在点
  $$ x_0 $$
  处是连续的, 当且仅当对任意的
  $$ ε > 0 $$,
  存在一个
  $$ δ > 0 $$
  使得只要
  $$ d_X (x, x_0) < δ $$,
  就有
  $$ d_Y (f(x), f(x_0)) < ε $$.
  - 我们称
    $$ f $$
    是连续的, 当且仅当
    $$ f $$
    在每一个点
    $$ x \in X $$
    处都是连续的.

```
注: 连续性保证了开集的逆象仍是开集, 这看起来好像有些奇怪.
我们可能会认为反过来的结论是成立的, 即开集的前象是个开集, 但这其实是不对的.
```

- 给定两个函数
  $$ f: X \to Y $$
  和
  $$ g: X \to Z $$,
  我们可以把它们的`直和`
  $$ f \oplus g: X \to Y \times Z $$
  定义为
  $$ f \oplus g(x) := (f(x), g(x)) $$.
  - 也就是说, 这个函数在笛卡儿积
    $$ Y \times Z $$
    中取值, 它的第一个坐标分量是
    $$ f(x) $$,
    而第二个坐标分量是
    $$ g(x) $$.

---

- 定理 (__连续映射保持紧性__) 设
  $$ f: X \to Y $$
  是从度量空间
  $$ (X, d_X) $$
  到另一个度量空间
  $$ (Y, d_Y) $$
  的连续映射, 并设
  $$ K \subseteq X $$
  是
  $$ X $$
  的任意一个紧致子集.
  - 那么
    $$ K $$
    的象
    $$ f(K) := \{ f(x): x \in K \} $$
    也是紧致的.

```
紧致集合上的连续函数还具有另外一个优点: 它们是一致连续的.
```

- 每一个一致连续的函数都是连续的, 但反之不成立.
  - 不过, 如果定义域
    $$ X $$
    是紧致的, 那么这两个概念就是等价的.

- 定义 (__连通空间__) 设
  $$ (X, d) $$
  是一个度量空间, 我们称
  $$ X $$
  是`不连通`的, 当且仅当在
  $$ X $$
  中存在两个不相交的非空开集
  $$ V $$
  和
  $$ W $$
  使得
  $$ V \cup W = X $$.
  - 换言之,
    $$ X $$
    是不连通的, 当且仅当
    $$ X $$
    包含一个既闭又开的非空真子集.
  - 我们称
    $$ X $$
    是`连通`的, 当且仅当
    $$ X $$
    非空且不是不连通的.
  - 需要注意的是, 空集
    $$ \varnothing $$
    是一种特殊情况. 它既不是连通的, 也不是不连通的.
    我们可以认为空集是`无连通性`的.

- 定理 设
  $$ X $$
  是实直线
  $$ R $$
  的子集, 那么下述命题是等价的.
  - (a)
    $$ X $$
    是连通的.
  - (b) 只要
    $$ x, y \in X $$
    且
    $$ x < y $$,
    那么区间
    $$ [x, y] $$
    就包含在
    $$ X $$
    中.
  - (c)
    $$ X $$
    是一个区间.

- 定理 (__连续性保持连通性__) 设
  $$ f: X \to Y $$
  是从度量空间
  $$ (X, d_X) $$
  到度量空间
  $$ (Y, d_Y) $$
  的连续映射, 并设
  $$ E $$
  是
  $$ X $$
  的任意一个连通子集.
  - 那么
    $$ f(E) $$
    也是连通的.

- 推论 (__介值定理__) 设
  $$ f: X \to R $$
  是从度量空间
  $$ (X, d_X) $$
  到实直线
  $$ R $$
  的连续映射. 设
  $$ E $$
  是
  $$ X $$
  的任意一个连通子集,
  $$ a $$,
  $$ b $$
  是
  $$ E $$
  中任意两个元素, 并设
  $$ y $$
  是介于
  $$ f(a) $$
  和
  $$ f(b) $$
  之间的实数, 也就是说
  $$ f(a) ≤ y ≤ f(b) $$
  或者
  $$ f(a) ≥ y ≥ f(b) $$.
  - 那么存在
    $$ c \in E $$
    使得
    $$ f(c) = y $$.

```
度量空间的概念可以推广为拓扑空间的概念. 这种推广并没有把度量 d 看作基础对象.
事实上, 在一般的拓扑空间中根本不存在度量, 而是把开集簇当作基本概念.
因此, 尽管我们在度量空间中首先引入了度量 d, 然后利用度量依次定义了开球和开集的概念,
但在拓扑空间中, 我们却是从开集的概念开始的. 事实证明, 如果从开集入手,
那么我们就没有必要重新构造 "球" 和度量这些有用的概念了
(因此, 并非所有的拓扑空间都是度量空间).
```

```
遗憾的是, 在拓扑空间中不存在柯西序列, 完备空间和有界空间的概念.
但是, 拓扑空间中一定有紧致空间的概念.
```

### 一致收敛

```
实际上, 函数序列收敛有若干个不同的概念. 我们在这里介绍两个最重要的概念:
逐点收敛和一致收敛 (还存在一些其他类型的收敛, 比如 L1 收敛, L2 收敛,
依测度收敛, 几乎处处收敛等, 但这些内容超出了本书的范围).
这两个概念是相互关联的, 但并不完全相同.
它们之间的关系有点类似于连续性和一致连续性之间的关系.
```

- 注意,
  $$ f^{(n)}(x) $$
  和
  $$ f(x) $$
  都是
  $$ Y $$
  中的点, 而不是函数,
  所以我们是用先前已有的度量空间中点列收敛的概念来定义函数序列的收敛.
  - 还要注意的是, 我们实际上并没有用到
    $$ (X, d_X) $$
    是一个度量空间这一事实 (也就是说, 我们没有使用度量
    $$ d_X $$).
    就这个定义而言,
    $$ X $$
    只要是一个纯粹的集合就足够了, 而不需要附加任何度量结构.
  - 但是, 稍后考察从
    $$ X $$
    到
    $$ Y $$
    的`连续`函数时, 我们就需要
    $$ X $$
    上的 (以及
    $$ Y $$
    上的) 度量, 或者至少需要一个拓扑结构.
  - 此外, 在引入`一致收敛`的概念时, 我们就肯定需要
    $$ X $$
    上和
    $$ Y $$
    上的度量结构了. 在拓扑空间中并不存在这些相应的概念.

> Page 290, 例题

- 定义 (__一致收敛__) 设
  $$ (f^{(n)})_{n = 1}^{\infty} $$
  是从一个度量空间
  $$ (X, d_X) $$
  到另一个度量空间
  $$ (Y, d_Y) $$
  的函数序列, 并设
  $$ f: X \to Y $$
  是一个函数.
  - 如果对于任意的
    $$ ε > 0 $$,
    存在一个
    $$ N > 0 $$
    使得对所有的
    $$ n ≥ N $$
    和所有的
    $$ x \in X $$
    都有
    $$ d_Y (f^{(n)}(x), f(x)) < ε $$,
    那么我们称
    $$ (f^{(n)})_{n = 1}^{\infty} $$
    在
    $$ X $$
    上一致收敛于
    $$ f $$,
    并把函数
    $$ f $$
    称作函数序列
    $$ f^{(n)} $$
    的`一致极限`.
  - 注意, 这个定义与逐点收敛的概念存在一些细微的区别. 在逐点收敛的定义中,
    $$ N $$
    的取值可以依赖于
    $$ x $$,
    但在一致收敛中就不行了.

---

- 推论 (__一致极限保持连续性__) 设
  $$ (f^{(n)})_{n = 1}^{\infty} $$
  是从度量空间
  $$ (X, d_X) $$
  到度量空间
  $$ (Y, d_Y) $$
  的函数序列, 并且该序列一致收敛于函数
  $$ f: X \to Y $$.
  - 如果对每一个
    $$ n $$,
    函数
    $$ f^{(n)} $$
    都在
    $$ X $$
    上连续, 那么极限函数
    $$ f $$
    也在
    $$ X $$
    上连续.

- 定义 (__有界函数的度量空间__) 设
  $$ (X, d_X) $$
  和
  $$ (Y, d_Y) $$
  都是度量空间, 我们用
  $$ B(X \to Y) $$
  表示从
  $$ X $$
  到
  $$ Y $$
  的有界函数空间:
  - $$ B(X \to Y) := \{ f \mid f: X \to Y \mbox{ } 是有界函数 \} $$
  - 并把度量
    $$ d_{\infty}: B(X \to Y) \times B(X \to Y) \to R^{+} $$
    定义为: 对所有的
    $$ f, g \in B(X \to Y) $$
    均有
  - $$
      d_{\infty} (f, g)
      := \sup_{x \in X} d_Y (f(x), g(x))
      = \sup \{ d_Y (f(x), g(x)) : x \in X \}
    $$
  - 这个度量有时被称作`上确界范数度量`或者
    $$ L^{\infty} $$
    度量. 我们也用
    $$ d_{B(X \to Y)} $$
    来表示
    $$ d_{\infty} $$.
  - 注意, 因为我们假设
    $$ f $$
    和
    $$ g $$
    都在
    $$ X $$
    上有界, 所以距离
    $$ d_{\infty} (f, g) $$
    总是有限的.

---

- 命题 设
  $$ (X, d_X) $$
  和
  $$ (Y, d_Y) $$
  都是度量空间. 设
  $$ (f^{(n)})_{n = 1}^{\infty} $$
  是
  $$ B(X \to Y) $$
  中的一个函数序列, 并设
  $$ f $$
  是
  $$ B(X \to Y) $$
  中的函数. 那么
  $$ (f^{(n)})_{n = 1}^{\infty} $$
  依度量
  $$ d_{B(X \to Y)} $$
  收敛于
  $$ f $$,
  当且仅当
  $$ (f^{(n)})_{n = 1}^{\infty} $$
  一致收敛于
  $$ f $$.

- 注 级数
  $$ \sum_{n = 1}^{\infty} f^{(n)} $$
  沿着
  $$ X $$
  逐点收敛于
  $$ f $$,
  当且仅当对于每一个
  $$ x \in X $$,
  $$ \sum_{n = 1}^{\infty} f^{(n)} (x) $$
  都收敛于
  $$ f(x) $$.
  - 因此, 如果
    $$ \sum_{n = 1}^{\infty} f^{(n)} $$
    不逐点收敛于
    $$ f $$,
    那么这并不意味着它是逐点发散的. 它可能在某些点
    $$ x $$
    处收敛, 但在另一些点
    $$ x $$
    处发散.
  - 如果级数
    $$ \sum_{n = 1}^{\infty} f^{(n)} $$
    一致收敛于
    $$ f $$,
    那么它也逐点收敛于
    $$ f $$.
    但反之不然!

---

- 定义 (__上确界范数__) 如果
  $$ f: X \to R $$
  是一个有界实值函数, 那么我们定义
  $$ f $$
  的`上确界范数`
  $$ \| f \|_{\infty} $$
  为
  - $$ \| f \|_{\infty} := \sup \{ |f(x)|: x \in X \} $$
  - 换言之,
    $$ \| f \|_{\infty} = d_{\infty} (f, 0) $$,
    其中
    $$ 0: X \to R $$
    是零函数
    $$ 0(x) := 0 $$,
    而
    $$ d_{\infty} $$
    是定义`有界函数的度量空间`中定义的度量.

- 定理 (__魏尔斯特拉斯 M 判别法__) 设
  $$ (X, d) $$
  是一个度量空间, 并设
  $$ (f^{(n)})_{n = 1}^{\infty} $$
  是
  $$ X $$
  上使得级数
  $$ \sum_{n = 1}^{\infty} \| f^{(n)} \|_{\infty} $$
  收敛的有界实值连续函数序列.
  - (注意, 这是一个普通的实数级数, 而不是函数级数.)
  - 那么, 级数
    $$ \sum_{n = 1}^{\infty} f^{(n)} $$
    沿着
    $$ X $$
    一致收敛于某个连续函数
    $$ f $$.

```
魏尔斯特拉斯 M 判别法可以简述为:
上确界范数级数的绝对收敛蕴涵着函数级数的一致收敛.
```

- 定理 如果收敛是一致的, 那么我们就可以交换极限和积分运算 (在紧致区间
  $$ [a, b] $$
  上的积分) 的次序,
  - $$
      \lim_{n \to \infty} \int_{[a, b]} f^{(n)} =
      \int_{[a, b]} \lim_{n \to \infty} f^{(n)}
    $$

- 推论 设
  $$ [a, b] $$
  是一个区间, 并设
  $$ (f^{(n)})_{n = 1}^{\infty} $$
  是
  $$ [a, b] $$
  上黎曼可积函数的序列. 如果级数
  $$ \sum_{n = 1}^{\infty} f^{(n)} $$
  一致收敛, 那么
  - $$
      \sum_{n = 1}^{\infty} \int_{[a, b]} f^{(n)} =
      \int_{[a, b]} \sum_{n = 1}^{\infty} f^{(n)}
    $$

- 定理 设
  $$ [a, b] $$
  是一个区间. 对于任意的整数
  $$ n ≥ 1 $$,
  设
  $$ f_n: [a, b] \to R $$
  是一个可微函数, 并且其导函数
  $$ f'_n: [a, b] \to R $$
  是连续的. 如果导函数序列
  $$ f'_n $$
  一致收敛于函数
  $$ g: [a, b] \to R $$,
  并且存在一点
  $$ x_0 $$
  使得极限
  $$ \lim_{n \to \infty} f_n (x_0) $$
  存在, 那么函数序列
  $$ f_n $$
  就一致收敛于一个可微函数
  $$ f $$,
  并且
  $$ f $$
  的导函数等于
  $$ g $$.
  - 通俗地讲, 上述定理是指, 如果
    $$ f'_n $$
    是一致收敛的, 并且对于某个
    $$ x_0 $$,
    $$ f_n (x_0) $$
    收敛, 那么
    $$ f_n $$
    也是一致收敛的, 并且有
    $$
      \frac{d}{dx} \lim_{n \to \infty} f_n (x) =
      \lim_{n \to \infty} \frac{d}{dx} f_n (x)
    $$.
  - 实际上, 当我们不假定函数
    $$ f'_n $$
    是连续函数时, 定理仍然成立.

```
正如我们所看到的那样, 连续函数会有一些非常不好的性质, 比如它们可能处处不可微.
另外, 像多项式这样的函数, 性状却总是好的, 尤其它们总是可微的.
幸运的是, 虽然大部分连续函数的性状都不像多项式那么好, 但它们总可以用多项式来一致逼近.
这个重要 (却困难) 的结果被称作魏尔斯特拉斯逼近定理.
```

> 本书多处有类似的上下衔接的点睛之笔! 这在其他的分析教科书中很难看见.

```
多项式空间的闭包就是连续函数空间.
```

```
[a, b] 上的每一个连续函数都是多项式序列的一致极限.
这就是说, 多项式空间在连续函数空间中依一致拓扑稠密.
```

- 定义 (__紧支撑函数__) 设
  $$ [a, b] $$
  是一个区间, 称函数
  $$ f: R \to R $$
  支撑在
  $$ [a, b] $$
  上, 当且仅当对于所有的
  $$ x \notin [a, b] $$
  都有
  $$ f(x) = 0 $$.
  我们称
  $$ f $$
  是`紧支撑`的, 当且仅当它支撑在某个区间
  $$ [a, b] $$
  上. 如果
  $$ f $$
  是连续的并且支撑在
  $$ [a, b] $$
  上, 那么我们定义反常积分
  $$ \int_{- \infty}^{\infty} f $$
  为
  $$ \int_{- \infty}^{\infty} f := \int_{[a, b]} f $$.
  - 注意, 一个函数可以支撑在多个区间上. 例如, 支撑在
    $$ [3, 4] $$
    上的函数也一定支撑在
    $$ [2, 5] $$
    上. 从原则上来说, 这可能意味着我们对
    $$ \int_{- \infty}^{\infty} f $$
    的定义是不确定的, 然而情况并非如此.
- 引理 设
  $$ f: R \to R $$
  是一个连续函数. 如果
  $$ f $$
  不仅支撑在区间
  $$ [a, b] $$
  上, 还支撑在另一个区间
  $$ [c, d] $$
  上, 那么
  $$ \int_{[a, b]} f = \int_{[c, d]} f $$.

---

- 定义 (__恒等逼近__) 设
  $$ ε > 0 $$,
  且
  $$ 0 < δ < 1 $$.
  我们称函数
  $$ f: R \to R $$
  是
  $$ (ε, δ) $$
  `恒等逼近`的, 如果它满足下面三条性质.
  - (a)
    $$ f $$
    支撑在
    $$ [-1, 1] $$
    上, 并且对所有的
    $$ -1 ≤ x ≤ 1 $$
    都有
    $$ f(x) ≥ 0 $$.
  - (b)
    $$ f $$
    是连续的, 并且
    $$ \int_{- \infty}^{\infty} f = 1 $$.
  - (c) 对于所有的
    $$ δ ≤ |x| ≤ 1 $$
    均有
    $$ |f(x)| ≤ ε $$.

```
注 对于熟悉狄拉克 δ 函数的人来说, 恒等逼近是用 (较容易分析的)
连续函数来逼近这个 (间断性非常强的) δ 函数的一种方法.
但在本书中, 我们不讨论狄拉克 δ 函数.
```

- 引理 (__多项式可以作为恒等逼近__) 对于每一个
  $$ ε > 0 $$
  和
  $$ 0 < δ < 1 $$,
  都存在一个
  $$ [-1, 1] $$
  上的多项式
  $$ P $$,
  而且它是一个
  $$ (ε, δ) $$
  恒等逼近.

```
利用多项式的恒等逼近, 我们用多项式来逼近连续函数.
我们将会用到卷积这个重要的概念.
```

> 这一段给工程人很多感动! 坚实的理论基础由此可见~

- 定义 (__卷积__) 设
  $$ f: R \to R $$
  和
  $$ g: R \to R $$
  都是连续的紧支撑函数. 我们把
  $$ f $$
  和
  $$ g $$
  的`卷积`
  $$ f * g : R \to R $$
  定义为函数
  - $$
      (f * g)(x) := \int_{- \infty}^{\infty}
      f(y) g(x - y) dy
    $$
  - 注意, 如果
    $$ f $$
    和
    $$ g $$
    都是连续且紧支撑的, 那么对于每一个
    $$ x $$,
    函数
    $$ f(y) g(x - y) $$
    (关于
    $$ y $$
    的函数) 也是连续且紧支撑的, 因此上述定义是有意义的.

- 命题 (__卷积的基本性质__) 设
  $$ f: R \to R $$,
  $$ g: R \to R $$
  和
  $$ h: R \to R $$
  都是连续的紧支撑函数, 那么下列命题成立.
  - (a) 卷积
    $$ f * g $$
    也是连续的紧支撑函数.
  - (b) (__卷积是可交换的__) 我们有
    $$ f * g = g * f $$.
    换言之,
  - $$
      \begin{align}
        f * g(x) & = \int_{- \infty}^{\infty} f(y) g(x - y) dy \\
                 & = \int_{- \infty}^{\infty} g(y) f(x - y) dy \\
                 & = g * f(x)
      \end{align}
    $$
  - (c) (__卷积是线性的__) 我们有
    $$ f * (g + h) = f * g + f * h $$.
    另外, 对于任意的实数
    $$ c $$,
    都有
    $$ f * (cg) = (cf) * g = c(f * g) $$.
  - 注 卷积还有一些其他的重要性质. 例如, 卷积是可结合的, 即
    $$ (f * g) * h = f * (g * h) $$.
    卷积与导数可交换, 也就是说, 当
    $$ f $$
    和
    $$ g $$
    都可微时,
    $$ (f * g)' = f' * g = f * g' $$.
    前面提到的狄拉克
    $$ δ $$
    函数是关于卷积运算的恒等式:
    $$ f * δ = δ * f = f $$.

> __狄拉克 δ 函数是关于卷积运算的恒等式__

- 引理 设
  $$ f: R \to R $$
  是支撑在
  $$ [0, 1] $$
  上的连续函数. 设
  $$ g: R \to R $$
  是支撑在
  $$ [-1, 1] $$
  上的连续函数, 而且
  $$ g $$
  是
  $$ [-1, 1] $$
  上的多项式. 那么
  $$ f * g $$
  是
  $$ [0, 1] $$
  上的多项式. (注意,
  $$ f * g $$
  在
  $$ [0, 1] $$
  之外可能就不是多项式了.)

- 引理 设
  $$ f: R \to R $$
  是支撑在
  $$ [0, 1] $$
  上的连续函数, 它以某个
  $$ M > 0 $$
  为界 (也就是说, 对于所有的
  $$ x \in R $$
  都有
  $$ |f(x)| ≤ M $$).
  设
  $$ ε > 0 $$,
  且
  $$ 0 < δ < 1 $$,
  它们使得只要
  $$ x, y \in R $$
  且
  $$ |x - y| < δ $$,
  就有
  $$ |f(x) - f(y)| < ε $$,
  并设
  $$ g $$
  是任意一个
  $$ (ε, δ) $$
  恒等逼近. 那么, 对于所有的
  $$ x \in [0, 1] $$
  都有
  - $$ |f * g(x) - f(x)| ≤ (1 + 4M) ε $$

- 注 `魏尔斯特拉斯逼近定理`只能用在有界区间
  $$ [a, b] $$
  上,
  $$ R $$
  上的连续函数无法用多项式来一致逼近. 例如, 定义为
  $$ f(x) := e^x $$
  的指数函数
  $$ f: R \to R $$
  不能用任何多项式来逼近,
  因为指数函数递增的速度要比任何多项式都快, 因此我们根本无法保证
  $$ f $$
  和多项式之间的度量的上确界是有限的.
- 注 魏尔斯特拉斯逼近定理可以推广到更高维的情形: 如果
  $$ K $$
  是
  $$ R^n $$
  (具有欧几里得度量
  $$ d_{l^2} $$)
  的任意一个紧致子集,
  $$ f: K \to R $$
  是一个连续函数, 那么对于任意的
  $$ ε > 0 $$,
  都存在一个具有
  $$ n $$
  个变元
  $$ x_1 $$,
  ...,
  $$ x_n $$
  的多项式
  $$ P: K \to R $$,
  使得
  $$ d_{\infty} (f, P) ≤ ε $$.

```
事实上, 该定理还有一个更一般的形式, 被称为斯通-魏尔斯特拉斯定理,
这个定理适用于任何度量空间, 但这部分内容超出了本书的范围.
```

### 幂级数

- 定义 (__收敛半径__) 设
  $$ \sum_{n = 0}^{\infty} c_n (x - a)^n $$
  是一个形式幂级数. 我们把该级数的收敛半径
  $$ R $$
  定义为
  - $$ R := \frac{1}{\lim \sup_{n \to \infty} |c_n|^{1 / n}} $$
  - 在这里, 我们约定
    $$ \frac{1}{0} = + \infty $$
    和
    $$ \frac{1}{+ \infty} = 0 $$.
  - 注 因为每一个
    $$ |c_n|^{1 / n} $$
    都是非负的, 所以极限
    $$ \lim \sup_{n \to ∞} |c_n|^{1 / n} $$
    可以取
    $$ 0 $$
    和
    $$ +∞ $$
    之间 (包括
    $$ 0 $$
    和
    $$ +∞ $$
    在内) 的任何一个值. 因此,
    $$ R $$
    也可以取
    $$ 0 $$
    和
    $$ +∞ $$
    之间 (包括
    $$ 0 $$
    和
    $$ +∞ $$
    在内) 的任何一个值 (显然,
    $$ R $$
    不一定是个实数).
  - 注意, 即使序列
    $$ |c_n|^{1 / n} $$
    不收敛, 收敛半径也始终存在. 这是因为任何一个序列都存在上极限
    (虽然这个上极限可能是
    $$ +∞ $$
    或
    $$ -∞ $$).

- 定理 设
  $$ \sum_{n = 0}^{\infty} c_n (x - a)^n $$
  是一个形式幂级数, 并设
  $$ R $$
  是该级数的收敛半径.
  - (a) (__在收敛半径之外发散__) 如果
    $$ x \in R $$
    满足
    $$ |x - a| > R $$,
    那么对于这个
    $$ x $$
    值, 级数
    $$ \sum_{n = 0}^{\infty} c_n (x - a)^n $$
    是发散的.
  - (b) (__在收敛半径内收敛__) 如果
    $$ x \in R $$
    满足
    $$ |x - a| < R $$,
    那么对于这个
    $$ x $$
    值, 级数
    $$ \sum_{n = 0}^{\infty} c_n (x - a)^n $$
    是绝对收敛的.
  - 对于下面的 (c) ~ (e), 我们假定
    $$ R > 0 $$
    (也就是说, 级数至少在除
    $$ x = a $$
    之外的一点处收敛). 设
    $$ f: (a - R, a + R) \to R $$
    是函数
    $$ f(x) := \sum_{n = 0}^{\infty} c_n (x - a)^n $$.
    由 (b) 可知, 该函数一定存在.
  - (c) (__在紧致集合上一致收敛__) 对于任意的
    $$ 0 < r < R $$,
    级数
    $$ \sum_{n = 0}^{\infty} c_n (x - a)^n $$
    在紧致区间
    $$ [a - r, a + r] $$
    上一致收敛于
    $$ f $$.
    于是,
    $$ f $$
    在
    $$ (a - R, a + R) $$
    上连续.
  - (d) (__幂级数的微分__) 函数
    $$ f $$
    在
    $$ (a - R, a + R) $$
    上可微. 对于任意的
    $$ 0 < r < R $$,
    级数
    $$ \sum_{n = 1}^{\infty} n c_n (x - a)^{n - 1} $$
    在区间
    $$ [a - r, a + r] $$
    上一致收敛于
    $$ f' $$.
  - (e) (__幂级数的积分__) 对于任意一个包含在
    $$ (a - R, a + R) $$
    内的闭区间
    $$ [y, z] $$,
    有
    $$
      \int_{[y, z]} f = \sum_{n = 0}^{\infty} c_n
      \frac{(z - a)^{n + 1} - (y - a)^{n + 1}}{n + 1}
    $$

```
能够表示成幂级数的函数 f(x) 有一个特殊的名字, 叫作实解析函数.
```

- 推论 (__实解析函数是无限可微的__) 设
  $$ E $$
  是
  $$ R $$
  的开子集, 并设
  $$ f: E \to R $$
  是
  $$ E $$
  上的实解析函数. 那么
  $$ f $$
  在
  $$ E $$
  上是无限可微的, 并且
  $$ f $$
  的所有导函数也都是
  $$ E $$
  上的实解析函数.

---

- 推论 (__泰勒公式__) 设
  $$ E $$
  是
  $$ R $$
  的子集,
  $$ a $$
  是
  $$ E $$
  的内点, 并设
  $$ f: E \to R $$
  是在
  $$ a $$
  处实解析的函数. 存在某个
  $$ r > 0 $$,
  使得对于所有的
  $$ x \in (a - r, a + r) $$,
  $$ f $$
  都有幂级数展开式
  - $$ f(x) = \sum_{n = 0}^{\infty} c_n (x - a)^n $$
  - 那么, 对于任意的整数
    $$ k ≥ 0 $$,
    有
  - $$ f^{(k)}(a) = k! c_k $$
- 于是, 我们有泰勒公式
  - $$
      f(x) = \sum_{n = 0}^{\infty}
      \frac{f^{(n)}(a)}{n!}
      (x - a)^n
    $$,
    $$ x \in (a - r, a + r) $$
  - 幂级数
    $$ \sum_{n = 0}^{\infty} \frac{f^{(n)}(a)}{n!} (x - a)^n $$
    有时被称作
    $$ f $$
    在
    $$ a $$
    附近的`泰勒级数`.

```
因此, 泰勒公式断言了如果一个函数是实解析的,
那么它就等于自身的泰勒级数.

注意, 泰勒公式仅适用于实解析函数.
有一些函数是无限可微的, 但泰勒公式对它不成立.
```

```
泰勒公式的另一个重要推论是, 一个实解析函数在一点处最多只能有一个幂级数.

一个实解析函数在任意一个给定的点附近只有唯一一个幂级数,
但它在不同的点附近却一定会有不同的幂级数.
```

- 设
  $$ f(x) = \sum_{n = 0}^{\infty} c_n (x - a)^n $$
  是以
  $$ a $$
  为中心, 收敛半径
  $$ 0 < R < ∞ $$
  严格介于
  $$ 0 $$
  和
  $$ ∞ $$
  之间的幂级数. 所以, 当
  $$ |x - a| < R $$
  时, 该幂级数绝对收敛; 当
  $$ |x - a| > R $$
  时, 该幂级数发散.
  - 但在边界
    $$ |x - a| = R $$
    处, 情况就比较复杂了; 这个级数有可能收敛, 也有可能发散.
    然而, 如果级数在边界点处收敛, 那么它就具有很好的性状.
    尤其是, 该级数在边界点处是连续的.

- 定理 设
  $$ f: (a - r, a + r) \to R $$
  和
  $$ g: (a - r, a + r) \to R $$
  都是
  $$ (a - r, a + r) $$
  上的解析函数, 它们的幂级数展开式分别是
  - $$ f(x) = \sum_{n = 0}^{\infty} c_n (x - a)^n $$
  - 和
  - $$ g(x) = \sum_{n = 0}^{\infty} d_n (x - a)^n $$
  - 那么
    $$ fg: (a - r, a + r) \to R $$
    在
    $$ (a - r, a + r) $$
    上也是解析的, 其幂级数展开式为
  - $$ f(x) g(x) = \sum_{n = 0}^{\infty} e_n (x - a)^n $$
  - 其中,
    $$ e_n := \sum_{m = 0}^{n} c_m d_{n - m} $$.
  - 注 序列
    $$ (e_n)_{n = 0}^{\infty} $$
    有时被称作序列
    $$ (c_n)_{n = 0}^{\infty} $$
    和
    $$ (d_n)_{n = 0}^{\infty} $$
    的`卷积`; 它与先前引入的卷积概念有着密切的联系 (但不完全相同).

---

- 定义 (__指数函数__) 对于任意的实数
  $$ x $$,
  我们把`指数函数`
  $$ \exp(x) $$
  定义为下面这个实数:
  - $$ \exp(x) := \sum_{n = 0}^{\infty} \frac{x^n}{n!} $$

> 注: 这个定义可以很自然扩展到`矩阵指数`.

- 定理 (__指数函数的基本性质__)
  - (a) 对于任意的实数
    $$ x $$,
    级数
    $$ \sum_{n = 0}^{\infty} \frac{x^n}{n!} $$
    是绝对收敛的. 于是, 对于任意的
    $$ x \in R $$,
    $$ \exp(x) $$
    都存在并且是一个实数. 幂级数
    $$ \sum_{n = 0}^{\infty} \frac{x^n}{n!} $$
    的收敛半径是
    $$ ∞ $$,
    而且
    $$ \exp $$
    是
    $$ (-∞, ∞) $$
    上的实解析函数.
  - (b)
    $$ \exp $$
    在
    $$ R $$
    上是可微的, 并且对于任意的
    $$ x \in R $$,
    $$ \exp'(x) = \exp(x) $$.
  - (c)
    $$ \exp $$
    在
    $$ R $$
    上是连续的, 并且对于任意的区间
    $$ [a, b] $$,
    都有
    $$ \int_{[a, b]} \exp(x) dx = \exp(b) - \exp(a) $$.
  - (d) 对于任意的
    $$ x, y \in R $$,
    都有
    $$ \exp(x + y) = \exp(x) \exp(y) $$.
  - (e) 我们有
    $$ \exp(0) = 1 $$.
    另外, 对于任意的
    $$ x \in R $$,
    $$ \exp(x) $$
    都是正的, 并且
    $$ \exp(-x) = 1 / \exp(x) $$.
  - (f)
    $$ \exp $$
    是严格单调递增的. 换言之, 如果
    $$ x $$
    和
    $$ y $$
    都是实数, 那么
    $$ \exp(y) > \exp(x) $$
    成立, 当且仅当
    $$ y > x $$.

```
通过引入著名的欧拉数 e (它也被称作自然对数的底),
我们可以把指数函数写成更紧凑的形式.
```

- 定义 (__欧拉数__) 数字
  $$ e $$
  被定义为
  - $$
      e := \exp(1) =
      \sum_{n = 0}^{\infty} \frac{1}{n!} =
      \frac{1}{0!} + \frac{1}{1!} + \frac{1}{2!} + ...
    $$
  - 命题 对于任意的实数
    $$ x $$,
    我们有
    $$ \exp(x) = e^x $$.
  - 根据这个命题, 我们可以交互使用
    $$ e^x $$
    和
    $$ \exp(x) $$.

---

- 定义 (__对数函数__) 我们把`自然对数函数`
  $$ \log: (0, ∞) \to R $$
  (也叫作
  $$ ln $$)
  定义为指数函数的反函数. 因此,
  $$ \exp(\log(x)) = x $$
  并且
  $$ \log(\exp(x)) = x $$.
  - 由于
    $$ \exp $$
    是连续且严格单调递增的, 因此
    $$ \log $$
    也是连续且严格单调递增的.
  - 因为
    $$ \exp $$
    还是可微的, 且导函数不可能为零, 所以由反函数定理可知,
    $$ \log $$
    也是可微的.
- 定理 (__对数函数的性质__)
  - (a) 对于任意的
    $$ x \in (0, ∞) $$,
    都有
    $$ \ln'(x) = \frac{1}{x} $$.
    于是由微积分基本定理可知, 对于
    $$ (0, ∞) $$
    内的任意一个区间
    $$ [a, b] $$,
    都有
    $$ \int_{[a, b]} \frac{1}{x} dx = \ln(b) - \ln(a) $$.
  - (b) 对于任意的
    $$ x, y \in (0, ∞) $$,
    都有
    $$ \ln(xy) = \ln(x) + \ln(y) $$.
  - (c) 对于任意的
    $$ x \in (0, ∞) $$,
    都有
    $$ \ln(1) = 0 $$
    和
    $$ \ln(1 / x) = - \ln(x) $$.
  - (d) 对于任意的
    $$ x \in (0, ∞) $$
    和任意的
    $$ y \in R $$,
    都有
    $$ \ln(x^y) = y \ln(x) $$.
  - (e) 对于任意的
    $$ x \in (-1, 1) $$,
    有
    $$ \ln(1 - x) = - \sum_{n = 1}^{\infty} \frac{x^n}{n} $$
- 于是,
  $$ \ln $$
  在
  $$ 1 $$
  处是解析的, 并且有幂级数展开式
  - $$
      \ln(x) = \sum_{n = 1}^{\infty}
      \frac{(-1)^{n + 1}}{n}
      (x - 1)^n
    $$,
    $$ x \in (0, 2) $$
  - 该级数的收敛半径是
    $$ 1 $$.

- 定义 (__复指数函数__) 如果
  $$ z $$
  是一个复数, 那么我们把函数
  $$ \exp(z) $$
  定义为
  - $$ \exp(z) := \sum_{n = 0}^{\infty} \frac{z^n}{n!} $$
  - 我们可以叙述并证明关于复数级数的比值判别法, 并利用它来证明对于任意的
    $$ z $$,
    $$ \exp(z) $$
    都是收敛的.

```
复对数函数事实上会更微妙一些, 主要因为 exp 不再是可逆的,
同时还因为关于对数函数的各种幂级数都只有一个有限的收敛半径
(它不像 exp 那样, 有一个无限的收敛半径).
这种相当微妙的情形超出了本书的范围, 我们对此不再进行讨论.
```

```
三角函数通常是由几何概念来定义的,
主要的几何概念有圆形, 三角形和角.
然而, 三角函数还可以用更解析的概念来定义,
尤其是可以利用 (复) 指数函数来定义它们.
```

- 定义 (__三角函数__) 如果
  $$ z $$
  是一个复数, 那么我们定义
  $$ \cos(z) := \frac{e^{iz} + e^{-iz}}{2} $$
  和
  $$ \sin(z) := \frac{e^{iz} - e^{-iz}}{2i} $$
  我们把
  $$ \cos $$
  和
  $$ \sin $$
  分别称为`余弦函数`和`正弦函数`. 且有:
  - $$ \cos(x + y) = \cos(x) \cos(y) - \sin(x) \sin(y) $$
  - $$ \sin(x + y) = \sin(x) \cos(y) + \cos(x) \sin(y) $$

### 傅里叶级数

- 如果函数
  $$ f $$
  是
  $$ 1 $$
  周期的, 那么对于任意的
  $$ k \in Z $$
  都有
  $$ f(x + k) = f(x) $$.
  - 因此,
    $$ 1 $$
    周期的函数有时也被称作
    $$ Z $$
    周期的 (而且
    $$ L $$
    周期的函数被称为是
    $$ LZ $$
    周期的).

- 为简单起见, 从现在开始我们只研究
  $$ Z $$
  周期函数.
  - 注意, 为了能完全了解
    $$ Z $$
    周期函数
    $$ f: R \to C $$,
    我们只需要了解它在区间
    $$ [0, 1) $$
    上的取值就行了, 因为这将确定
    $$ f $$
    在任意一点处的取值.

- 连续的
  $$ Z $$
  周期复值函数的空间记作
  $$ C(R / Z; C) $$.
  (记号
  $$ R / Z $$
  来源于代数学, 它表示加法群
  $$ R $$
  关于加法群
  $$ Z $$
  的商群.)
  - 这里的"连续"是指在
    $$ R $$
    中的任意一点处都连续. 只在某个区间, 如
    $$ [0, 1] $$
    上连续是不够的, 因为
    $$ 1 $$
    点 (或其他任意一个整数点)
    处的左极限和右极限可能不同而产生间断.

- 引理
  $$ C(R / Z; C) $$
  的基本性质
  - (a) (__有界性__) 如果
    $$ f \in C(R / Z; C) $$,
    那么
    $$ f $$
    是有界的 (即存在一个实数
    $$ M > 0 $$,
    使得对于所有的
    $$ x \in R $$
    都有
    $$ | f(x) | ≤ M $$).
  - (b) (__向量空间和代数性质__) 如果
    $$ f, g \in C(R / Z; C) $$,
    那么函数
    $$ f + g $$,
    $$ f - g $$
    和
    $$ fg $$
    也都属于
    $$ C(R / Z; C) $$.
    另外, 如果
    $$ c $$
    是任意一个复数, 那么函数
    $$ cf $$
    也在
    $$ C(R / Z; C) $$
    中.
  - (c) (__一致极限下的封闭性__) 设
    $$ (f_n)_{n = 1}^{\infty} $$
    是
    $$ C(R / Z; C) $$
    中的函数序列, 如果该序列一致收敛于函数
    $$ f: R \to C $$,
    那么
    $$ f $$
    也属于
    $$ C(R / Z; C) $$.

---

- 定义 (__内积__) 如果
  $$ f, g \in C(R / Z; C) $$,
  那么我们把`内积`
  $$ \langle f, g \rangle $$
  定义为
  - $$ \langle f, g \rangle = \int_{[0, 1]} f(x) \overline{g(x)} dx $$

- 引理 设
  $$ f, g, h \in C(R / Z; C) $$.
  - (a) (__厄米性质__)
    $$ \langle g, f \rangle = \overline{\langle f, g \rangle} $$.
  - (b) (__正性__)
    $$ \langle f, f \rangle ≥ 0 $$.
    更进一步地,
    $$ \langle f, f \rangle = 0 $$
    当且仅当
    $$ f = 0 $$
    (也就是说, 对于所有的
    $$ x \in R $$,
    都有
    $$ f(x) = 0 $$).
  - (c) (__关于第一个变量的线性性质__)
    $$
      \langle f + g, h \rangle =
      \langle f, h \rangle +
      \langle g, h \rangle
    $$.
    对于任意的复数
    $$ c $$,
    有
    $$ \langle cf, g \rangle = c \langle f, g \rangle $$.
  - (d) (__关于第二个变量的反线性性质__)
    $$
      \langle f, g + h \rangle =
      \langle f, g \rangle +
      \langle f, h \rangle
    $$.
    对于任意的复数
    $$ c $$,
    有
    $$ \langle f, cg \rangle = \overline{c} \langle f, g \rangle $$.

- 定义 (__特征__) 对于每一个整数
  $$ n $$,
  令
  $$ e_n \in C(R / Z; C) $$
  表示函数
  - $$ e_n (x) := e^{2 \pi i n x} $$
  - 该函数有时被称作频率为
    $$ n $$
    的特征.
- 定义 (__三角多项式__) 设
  $$ f $$
  是
  $$ C(R / Z; C) $$
  中的函数. 如果存在一个整数
  $$ N ≥ 0 $$
  和一个复数序列
  $$ (c_n)_{n = -N}^{N} $$
  使得
  $$ f = \sum_{n = -N}^{N} c_n e_n $$,
  那么我们称函数
  $$ f $$
  是一个`三角多项式`.

```
根据傅里叶定理, 我们可以把 C(R/Z; C) 中的任意一个函数写成傅里叶级数的形式.
傅里叶级数与三角多项式的关系, 就像幂级数与多项式的关系那样.
为了把函数写成傅里叶级数的形式, 我们将使用内积结构.
```

- 引理 (__全体特征构成一个标准正交系__) 对于任意的整数
  $$ n $$
  和
  $$ m $$,
  当
  $$ n = m $$
  时,
  $$ \langle e_n, e_m \rangle = 1 $$;
  当
  $$ n ≠ m $$
  时,
  $$ \langle e_n, e_m \rangle = 0 $$.
  同时还有
  $$ \| e_n \| = 1 $$.

- 推论 设
  $$ f = \sum_{n = -N}^{N} c_n e_n $$
  是一个三角多项式, 那么对于所有的整数
  $$ -N ≤ n ≤ N $$,
  有如下公式:
  - $$ c_n = \langle f, e_n \rangle $$
  - 另外, 只要
    $$ n > N $$
    或者
    $$ n < -N $$,
    我们就有
    $$ 0 = \langle f, e_n \rangle $$.
  - 最后, 我们还有恒等式
    $$ \| f \|_{2}^{2} = \sum_{n = -N}^{N} | c_n |^2 $$

- 定义 (__傅里叶变换__) 对于任意的函数
  $$ f \in C(R / Z; C) $$
  和任意的整数
  $$ n \in Z $$,
  我们把
  $$ f $$
  的第
  $$ n $$
  个傅里叶系数, 记作
  $$ \hat{f}(n) $$,
  定义为
  - $$
      \hat{f}(n) := \langle f, e_n \rangle =
      \int_{[0, 1]} f(x) e^{-2 \pi inx} dx
    $$
  - 函数
    $$ \hat{f} : Z \to C $$
    被称为
    $$ f $$
    的`傅里叶变换`.
- 于是, 只要
  $$ f = \sum_{n = -N}^{N} c_n e_n $$
  是一个三角多项式, 那么就有
  - $$
      f = \sum_{n = -N}^{N} \langle f, e_n \rangle e_n
        = \sum_{n = -\infty}^{\infty} \langle f, e_n \rangle e_n
    $$
- 于是我们得到了`傅里叶反演公式`:
  - $$ f = \sum_{n = -\infty}^{\infty} \hat{f}(n) e_n $$
  - 也就是说,
  - $$
      f(x) = \sum_{n = - \infty}^{\infty} \hat{f}(n)
      e^{2 \pi inx}
    $$
  - 上式右端称为
    $$ f $$
    的`傅里叶级数`.
- 另外, 根据推论的第二个恒等式, 我们有 Plancherel 公式
  - $$
      \| f \|_{2}^{2} = \sum_{n = - \infty}^{\infty}
      | \hat{f}(n) |^2
    $$
- 注 需要强调的是, 我们目前只证明了当
  $$ f $$
  是三角多项式时的傅里叶反演公式和 Plancherel 公式.
  注意, 在这种情形下, 绝大多数傅里叶系数
  $$ \hat{f} (n) $$
  都是零 (事实上, 仅当
  $$ -N ≤ n ≤ N $$
  时, 傅里叶系数才不为零), 因此这里的无限和实际上就是有限和.
  - 这样也就不存在关于上述级数在什么意义下收敛的讨论.
    因为级数是有限和, 所以它既是逐点收敛和一致收敛的, 也是依
    $$ L^2 $$
    度量收敛的.

> 此处和科恩的量子力学遥相呼应, 而且更加言简意赅.
  这就是阅读的乐趣, 在不同的著作之间看见关联.
  话说回来, 因为有量子力学的背景在前, 此处才会十分的具象化.

```
接下来, 我们将把傅里叶反演公式和 Plancherel 公式推广到
C(R/Z; C) 中的一般函数上, 而不仅仅是三角多项式上.
(上述公式也可以推广到像方波这样的间断函数上, 但我们不讨论这部分内容.)
为此, 我们将会用到魏尔斯特拉斯逼近定理,
但这一次我们要用三角多项式来一致逼近连续的周期函数.
正如在多项式的魏尔斯特拉斯逼近定理的证明中用到了卷积一样,
我们也要为周期函数定义一个卷积的概念.
```

> 在数学内容的讲解布局上, 陶哲轩堪称我所见者第一人.

- 定理 设
  $$ f \in C(R / Z; C) $$,
  并设
  $$ ε > 0 $$.
  那么存在一个三角多项式
  $$ P $$
  使得
  $$ \| f - P \|_{\infty} ≤ ε $$.
  - 该定理断定了任意一个连续的周期函数都可以用三角多项式来一致逼近.
  - 也就是说, 如果设
    $$ P(R / Z; C) $$
    表示全体三角多项式的空间, 那么
    $$ P(R / Z; C) $$
    在
    $$ L^{\infty} $$
    度量下的闭包就是
    $$ C(R / Z; C) $$.

```
这个定理可以直接用多项式的魏尔斯特拉斯逼近定理来证明,
而这两个定理都是更一般的斯通-魏尔斯特拉斯定理的特殊情形,
在这里我们不讨论斯通-魏尔斯特拉斯定理.
```

- 定义 (__周期卷积__) 设
  $$ f, g \in C(R / Z; C) $$,
  那么
  $$ f $$
  和
  $$ g $$
  的`周期卷积`
  $$ f * g: R \to C $$
  被定义为
  - $$ f * g(x) := \int_{[0, 1]} f(y) g(x - y) dy $$

```
注意, 上面这个式子与紧支撑函数的卷积概念稍有不同,
因为我们只在 [0, 1] 上求积分, 而不是在整个 R 上求积分.
因此从原则上来说, 我们为符号 f * g 赋予了两个不同的含义.
但在实践中, 这并不会造成混淆,
因为一个非零的函数不可能同时既是周期函数又是紧支撑函数.
```

- 引理 (__周期卷积的基本性质__) 设
  $$ f, g, h \in C(R / Z; C) $$.
  - (a) (__封闭性__) 卷积
    $$ f * g $$
    是连续的, 并且是
    $$ Z $$
    周期的. 换言之,
    $$ f * g \in C(R / Z; C) $$.
  - (b) (__交换性__)
    $$ f * g = g * f $$.
  - (c) (__双线性性质__)
    $$ f * (g + h) = f * g + f * h $$
    且
    $$ (f + g) * h = f * h + g * h $$.
    对于任意的复数
    $$ c $$,
    有
    $$ c(f * g) = (cf) * g = f * (cg) $$.

---

- 对于任意的
  $$ f \in C(R / Z; C) $$
  和任意的整数
  $$ n $$,
  有
  - $$ f * e_n = \hat{f}(n) e_n $$
  - 因此,
    $$ C(R / Z; C) $$
    中任意一个函数与三角多项式的周期卷积都仍是一个三角多项式.

- 定义 (__周期恒等逼近__) 设
  $$ ε > 0 $$
  且
  $$ 0 < δ < 1/2 $$,
  如果函数
  $$ f \in C(R / Z; C) $$
  满足下列性质, 那么
  $$ f $$
  就被称为周期
  $$ (ε, δ) $$
  恒等逼近.
  - (a) 对于所有的
    $$ x \in R $$,
    都有
    $$ f(x) ≥ 0 $$;
    并且
    $$ \int_{[0, 1]} f = 1 $$.
  - (b) 对于所有的
    $$ δ ≤ |x| ≤ 1 - δ $$,
    都有
    $$ f(x) < ε $$.

- 引理 对于每一个
  $$ ε > 0 $$
  和
  $$ 0 < δ < 1/2 $$,
  都存在一个三角多项式
  $$ P $$,
  它是一个
  $$ (ε, δ) $$
  恒等逼近.

- 定理 (__Plancherel 定理__) 对于任意的
  $$ f \in C(R / Z; C) $$,
  级数
  $$ \sum_{n = - \infty}^{\infty} |\hat{f}(n)|^2 $$
  是绝对收敛的, 并且
  - $$ \| f \|_2^2 = \sum_{n = - \infty}^{\infty} |\hat{f}(n)|^2 $$
  - 这个定理也被称作帕塞瓦尔定理.

### 多元微分学

- 定义 (__可微性__) 设
  $$ E $$
  是
  $$ R^n $$
  的子集,
  $$ f: E \to R^m $$
  是一个函数,
  $$ x_0 \in E $$
  是一个点, 并设
  $$ L: R^n \to R^m $$
  是一个线性变换. 如果有
  - $$
      \lim_{x \to x_0; x \in E - \{ x_0 \}}
      \frac{\| f(x) - (f(x_0) + L(x - x_0)) \|}{\| x - x_0 \|}
      = 0
    $$
  - 其中
    $$ \| x \| $$
    是
    $$ x $$
    的长度 (在
    $$ l^2 $$
    度量下):
  - $$
      \| (x_1, x_2, ..., x_n) \| =
      (x_1^2 + x_2^2 + ... + x_n^2)^{1/2}
    $$
  - 那么我们称
    $$ f $$
    在
    $$ x_0 $$
    处是可微的, 并且导数为
    $$ L $$.

- 引理 (__导数的唯一性__) 设
  $$ E $$
  是
  $$ R^n $$
  的子集,
  $$ f: E \to R^m $$
  是一个函数,
  $$ x_0 \in E $$
  是
  $$ E $$
  的内点, 并设
  $$ L_1: R^n \to R^m $$
  和
  $$ L_2: R^n \to R^m $$
  都是线性变换. 如果
  $$ f $$
  在
  $$ x_0 $$
  处可微, 并且导数为
  $$ L_1 $$,
  同时
  $$ f $$
  在
  $$ x_0 $$
  处还有导数
  $$ L_2 $$,
  那么
  $$ L_1 = L_2 $$.

- 有时, 我们把
  $$ f' $$
  称为
  $$ f $$
  的`全导数`, 以区别于`偏导数`和`方向导数`的概念. 此外, 全导数
  $$ f' $$
  还与`导数矩阵`
  $$ Df $$
  有着密切的关联.

- 定义 (__方向导数__) 设
  $$ E $$
  是
  $$ R^n $$
  的子集,
  $$ f: E \to R^m $$
  是一个函数,
  $$ x_0 $$
  是
  $$ E $$
  的内点, 并设
  $$ v $$
  是
  $$ R^n $$
  中的向量. 如果极限
  - $$
      \lim_{t \to 0; t > 0, x_0 + tv \in E}
      \frac{f(x_0 + tv) - f(x_0)}{t}
    $$
  - 存在, 那么我们称
    $$ f $$
    在
    $$ x_0 $$
    处沿方向
    $$ v $$
    可微, 并把上述极限记作
    $$ D_v f(x_0) $$:
  - $$
      D_v f(x_0) := \lim_{t \to 0; t > 0}
      \frac{f(x_0 + tv) - f(x_0)}{t}
    $$
- 注意, 这里的除数是标量
  $$ t $$,
  而不是向量. 因此该定义是有意义的, 并且
  $$ D_v f(x_0) $$
  是
  $$ R^m $$
  中的向量. 如果向量
  $$ v $$
  是指`朝内`的方向 (这推广了单变量微积分中左导数和右导数的概念), 那么在
  $$ E $$
  的边界上定义方向导数也是有可能的.
  - 但此处我们不讨论这一点.

- 引理 设
  $$ E $$
  是
  $$ R^n $$
  的子集,
  $$ f: E \to R^m $$
  是一个函数,
  $$ x_0 $$
  是
  $$ E $$
  的内点, 并设
  $$ v $$
  是
  $$ R^n $$
  中的向量. 如果
  $$ f $$
  在
  $$ x_0 $$
  处是可微的, 那么
  $$ f $$
  在
  $$ x_0 $$
  处沿方向
  $$ v $$
  也可微, 并且
  - $$ D_v f(x_0) = f'(x_0) v $$

```
注 从这个引理可以看出, 全可微性蕴涵着方向可微性.
但是, 反之不成立, 与方向导数密切相关的一个概念是偏导数的概念.
```

- 定义 (__偏导数__) 设
  $$ E $$
  是
  $$ R^n $$
  的子集,
  $$ f: E \to R^m $$
  是一个函数,
  $$ x_0 $$
  是
  $$ E $$
  的内点, 并设
  $$ 1 ≤ j ≤ n $$.
  那么
  $$ f $$
  在
  $$ x_0 $$
  处关于变量
  $$ x_j $$
  的偏导数, 记作
  $$ \frac{\partial f}{\partial x_j} (x_0) $$,
  被定义为
  - $$
      \frac{\partial f}{\partial x_j} (x_0) :=
      \lim_{t \to 0; t \neq 0, x_0 + t e_j \in E}
      \frac{f(x_0 + t e_j) - f(x_0)}{t} =
      \frac{d}{dt} f(x_0 + t e_j) |_{t = 0}
    $$
  - 当然前提是上述极限存在. 如果极限不存在, 那么
    $$ \frac{\partial f}{\partial x_j} (x_0) $$
    就是无定义的.
- 通俗地说, 偏导数可以通过这样的方式来得到: 固定除了
  $$ x_j $$
  以外的所有变量, 然后把函数看作关于
  $$ x_j $$
  的单变量函数, 进而求其导数.
  - 注意, 如果
    $$ f $$
    在
    $$ R^m $$
    中取值, 那么
    $$ \frac{\partial f}{\partial x_j} $$
    也在
    $$ R^m $$
    中取值.
  - 实际上, 如果我们把
    $$ f $$
    写成
    $$ f = (f_1, ..., f_m) $$,
    那么容易得出
  - $$
      \frac{\partial f}{\partial x_j} (x_0) =
      (\frac{\partial f_1}{\partial x_j} (x_0),
      ...,
      \frac{\partial f_m}{\partial x_j} (x_0))
    $$
  - 也就是说, 要想对一个向量值函数求微分,
    我们只需分别对其中的每个分量求微分就可以了.

---

- 如果一个函数在
  $$ x_0 $$
  处是可微的, 那么该函数在
  $$ x_0 $$
  处的所有偏导数
  $$ \frac{\partial f}{\partial x_j} $$
  都存在, 并且
  - $$ \frac{\partial f}{\partial x_j} (x_0) = f'(x_0) e_j $$
  - 另外, 如果
    $$ v = (v_1, ..., v_n) = \sum_j v_j e_j $$,
    那么
  - $$
      D_v f(x_0) = f'(x_0) \sum_j v_j e_j =
      \sum_j v_j f'(x_0) e_j
    $$
  - 这是因为
    $$ f'(x_0) $$
    是线性的, 于是
  - $$ D_v f(x_0) = \sum_j v_j \frac{\partial f}{\partial x_j} (x_0) $$
  - 因此, 如果函数在
    $$ x_0 $$
    处是可微的, 那么我们就可以用偏导数来表示方向导数.

> 线性! 此处值得回味~

- 我们不能只因为函数在
  $$ x_0 $$
  处的偏导数存在, 就说该函数在
  $$ x_0 $$
  处是可微的.
  - 但是, 由下面这个定理可知, 如果函数在
    $$ x_0 $$
    处的偏导数不仅存在而且还是连续的, 那么该函数在
    $$ x_0 $$
    处就是可微的.
- 定理 设
  $$ E $$
  是
  $$ R^n $$
  的子集,
  $$ f: E \to R^m $$
  是一个函数,
  $$ F $$
  是
  $$ E $$
  的子集, 并设
  $$ x_0 $$
  是
  $$ F $$
  的内点. 如果
  $$ f $$
  在
  $$ F $$
  上的全体偏导数
  $$ \frac{\partial f}{\partial x_j} $$
  都存在, 并且它们在
  $$ x_0 $$
  处也都是连续的, 那么
  $$ f $$
  在
  $$ x_0 $$
  处是可微的, 而且线性变换
  $$ f'(x_0): R^n \to R^m $$
  被定义为
  - $$
      f'(x_0)(v_j)_{1 ≤ j ≤ n} =
      \sum_{j = 1}^{n} v_j \frac{\partial f}{\partial x_j} (x_0)
    $$
  - 特别地, 如果
    $$ f: E \to R $$
    是一个实值函数, 并且
    $$ f $$
    在
    $$ x_0 $$
    处的`梯度`
    $$ ▽f(x_0) $$
    被定义为
    $$ n $$
    维行向量
    $$
      ▽f(x_0) := (
        \frac{\partial f}{\partial x_1}(x_0),
        ...,
        \frac{\partial f}{\partial x_n}(x_0)
      )
    $$,
    那么只要
    $$ x_0 $$
    是某个梯度存在且连续的区域的内点, 我们就有熟知的公式
  - $$ D_v f(x_0) = v \cdot ▽f(x_0) $$

> 梯度, 偏导数, 方向导数; 又是个值得回味的地方~ 线性!

- [微分矩阵](https://en.wikipedia.org/wiki/Matrix_calculus)

- 定理 (__多元微积分链式法则__) 设
  $$ E $$
  是
  $$ R^n $$
  的子集,
  $$ F $$
  是
  $$ R^m $$
  的子集. 设
  $$ f: E \to F $$
  是一个函数,
  $$ g: F \to R^p $$
  是另一个函数, 并设
  $$ x_0 $$
  是
  $$ E $$
  的内点. 如果
  $$ f $$
  在
  $$ x_0 $$
  处是可微的, 并且
  $$ f(x_0) $$
  是
  $$ F $$
  的内点, 同时
  $$ g $$
  在
  $$ f(x_0) $$
  处也是可微的, 那么
  $$ g \circ f: E \to R^p $$
  在
  $$ x_0 $$
  处可微, 而且还有公式
  - $$ (g \circ f)'(x_0) = g'(f(x_0)) f'(x_0) $$
  - 作为一个推论, 我们得到
  - $$ D(g \circ f) (x_0) = Dg(f(x_0)) Df(x_0) $$

```
也就是说, 我们可以用矩阵和矩阵乘法来描述链式法则,
以此来代替用线性变换和复合运算描述的链式法则.
```

> 线性! 链式法则~

- 设
  $$ T: R^n \to R^m $$
  是一个线性变换. 我们观察到
  $$ T $$
  在每一点处都是连续可微的. 实际上, 对于每一个
  $$ x $$
  都有
  $$ T'(x) = T $$
  (这个等式看起来好像有点奇怪. 但如果把它看成
  $$ \frac{d}{dx} (Tx) = T $$
  的形式, 那么理解起来可能就更加容易了). 因此, 对于任意的可微函数
  $$ f: E \to R^n $$,
  $$ Tf: E \to R^m $$
  也是可微的. 那么由链式法则可得,
  - $$ (Tf)'(x_0) = T(f'(x_0)) $$
  - 这个结论推广了一元微积分法则
    $$ (cf)' = c(f') $$,
    其中
    $$ c $$
    是一个常数.

> 妙啊~

- 下面是链式法则的另一种非常有用的特殊情形: 设
  $$ f: R^n \to R^m $$
  是一个可微函数, 并且对于每一个
  $$ j = 1, ..., n $$,
  $$ x_j: R \to R $$
  都是可微函数. 那么
  - $$
      \frac{d}{dt} f(x_1(t), x_2(t), ..., x_n(t)) =
      \sum_{j = 1}^{n} x'_j (t) \frac{\partial f}{\partial x_j}
      (x_1(t), x_2(t), ..., x_n(t))
    $$

- 定理 (__克莱罗定理__) 设
  $$ E $$
  是
  $$ R^n $$
  的一个开子集, 并设
  $$ f: E \to R^m $$
  是
  $$ E $$
  上的二次连续可微函数. 那么对于所有的
  $$ 1 ≤ i $$,
  $$ j ≤ n $$
  和所有的
  $$ x_0 \in E $$,
  都有
  - $$
      \frac{\partial}{\partial x_j}
      \frac{\partial f}{\partial x_i} (x_0) =
      \frac{\partial}{\partial x_i}
      \frac{\partial f}{\partial x_j} (x_0)
    $$.

```
注意, 如果没有"二阶导数是连续的"这个假设前提, 那么克莱罗定理就不成立了.
```

- 定义 (__压缩__) 设
  $$ (X, d) $$
  是一个度量空间, 并设
  $$ f: X \to X $$
  是一个映射. 如果对于所有的
  $$ x, y \in X $$
  都有
  $$ d(f(x), f(y)) ≤ d(x, y) $$,
  那么我们称
  $$ f $$
  是一个`压缩映射`. 如果存在一个常数
  $$ 0 < c < 1 $$,
  使得对于所有的
  $$ x, y \in X $$
  都有
  $$ d(f(x), f(y)) ≤ cd(x, y) $$,
  那么我们称
  $$ f $$
  是一个`严格压缩映射`,
  $$ c $$
  被称为
  $$ f $$
  的`压缩常数`.

- 定义 (__不动点__) 设
  $$ f: X \to X $$
  是一个映射, 并设
  $$ x \in X $$.
  如果
  $$ f(x) = x $$,
  那么我们称
  $$ x $$
  是
  $$ f $$
  的`不动点`.

- 压缩映射不一定有不动点. 例如, 被定义为
  $$ f(x) = x + 1 $$
  的映射
  $$ f: R \to R $$
  就没有不动点. 但是, 严格压缩映射一定有不动点, 至少当
  $$ X $$
  是完备空间时如此.

- 定理 (__压缩映射定理__) 设
  $$ (X, d) $$
  是一个度量空间, 并设
  $$ f: X \to X $$
  是一个严格压缩映射, 那么
  $$ f $$
  最多有一个不动点. 另外, 如果假设
  $$ X $$
  是一个非空的完备空间, 那么
  $$ f $$
  恰好有一个不动点.

- 注 压缩映射定理是`不动点定理`的一个例子. 不动点定理就是在某些特定条件下,
  能够保证映射有不动点的定理. 还存在一些其他有用的不动点定理,
  其中一个有趣的定理就是所谓的`毛球定理`.
  - 该定理指出, 任意一个从球面
    $$ S^2 := \{(x, y, z) \in R^3 : x^2 + y^2 + z^2 = 1 \} $$
    到其自身的连续映射
    $$ f: S^2 \to S^2 $$
    都必有一个不动点或者一个反不动点 (即满足
    $$ f(x) = -x $$
    的点
    $$ x \in S^2 $$).
  - 对这个定理的证明可以参阅任何一本拓扑学教材, 而且它超出了本书的范围.

```
我们将给出压缩映射定理的一个推论, 它对于反函数定理有着重要的作用.
这个推论主要是指对于任意一个定义在球上的映射 f 而言,
如果 f 只是对恒等映射的"小小的"变动,
那么 f 仍是一对一的, 而且它不会在球的内部造成任何洞.
```

- 引理 设
  $$ B(0, r) $$
  是
  $$ R^n $$
  中以原点为中心的球, 并设
  $$ g: B(0, r) \to R^n $$
  是一个映射, 它使得
  $$ g(0) = 0 $$,
  并且对于所有的
  $$ x, y \in B(0, r) $$
  都有
  - $$ \| g(x) - g(y) \| ≤ \frac{1}{2} \| x - y \| $$
  - 这里的
    $$ \| x \| $$
    表示
    $$ x $$
    在
    $$ R^n $$
    中的长度.
  - 那么定义为
    $$ f(x) := x + g(x) $$
    的函数
    $$ f: B(0, r) \to R^n $$
    是一对一的, 并且
    $$ f $$
    的象
    $$ f(B(0, r)) $$
    包含球
    $$ B(0, r/2) $$.

- 定理 (__反函数定理__) 设
  $$ E $$
  是
  $$ R^n $$
  的一个开子集, 并设
  $$ f: E \to R^n $$
  是
  $$ E $$
  上的一个连续可微函数. 如果
  $$ x_0 \in E $$
  使得线性变换
  $$ f'(x_0): R^n \to R^n $$
  可逆, 那么在
  $$ E $$
  中存在一个包含点
  $$ x_0 $$
  的开集
  $$ U $$,
  并且在
  $$ R^n $$
  中存在一个包含
  $$ f(x_0) $$
  的开集
  $$ V $$,
  使得
  $$ f $$
  是从
  $$ U $$
  到
  $$ V $$
  的双射. 特别地, 存在逆映射
  $$ f^{-1}: V \to U $$.
  另外, 这个逆映射在
  $$ f(x_0) $$
  处可微, 并且
  - $$ (f^{-1})'(f(x_0)) = (f'(x_0))^{-1} $$

### 勒贝格测度

- 为了知道如何计算积分
  $$ \int_Ω f $$,
  我们必须先弄清楚一个更基础, 更根本的问题: 应该如何计算
  $$ Ω $$
  的长度, 面积或者体积?
  - 要想知道这个问题为什么与积分有关, 我们必须注意, 如果能够求出函数
    $$ 1 $$
    在
    $$ Ω $$
    上的积分, 那么我们就得到了
    $$ Ω $$
    的长度 (如果
    $$ Ω $$
    是一维的),
    $$ Ω $$
    的面积 (如果
    $$ Ω $$
    是二维的), 或者
    $$ Ω $$
    的体积 (如果
    $$ Ω $$
    是三维的).
  - 为了避免划分成若干种不同维度的情形, 我们把
    $$ Ω $$
    的长度, 面积和体积 (或者超体积等) 这些与欧几里得空间
    $$ R^n $$
    有关的概念统称为
    $$ Ω $$
    的`测度`.

- 我们不可能找到一个合理的方法使得
  $$ R^n $$
  中的每一个子集都能被指派一个测度. 但我们可以采取一些补救措施, 那就是只测量
  $$ R^n $$
  中一个特定类型的集合, 即`可测集`. 我们只在这些可测集
  $$ Ω $$
  上定义测度
  $$ m(Ω) $$.

---

- 设
  $$ R^n $$
  是一个欧几里得空间, 本章的目标是定义`可测集`的概念, 它是
  $$ R^n $$
  的一类特殊子集. 对于每一个可测集
  $$ Ω \subset R^n $$,
  我们把`勒贝格测度`
  $$ m(Ω) $$
  定义为
  $$ [0, ∞] $$
  中的一个特定数字. 可测集满足下列性质.
  - (i) (__博雷尔性质__)
    $$ R^n $$
    中的每一个开集都是可测集, 每一个闭集也都是可测集.
  - (ii) (__互补性__) 如果
    $$ Ω $$
    是可测集, 那么
    $$ R^n \backslash Ω $$
    也是可测集.
  - (iii) (__布尔代数性质__) 如果
    $$ (Ω_j)_{j \in J} $$
    是任意的有限多个可测集 (那么
    $$ J $$
    是有限的), 那么它们的并集
    $$ \cup_{j \in J} Ω_j $$
    和交集
    $$ \cap_{j \in J} Ω_j $$
    也都是可测集.
  - (iv) (__σ 代数性质__) 如果
    $$ (Ω_j)_{j \in J} $$
    是任意可数个可测集 (那么
    $$ J $$
    是可数的), 那么它们的并集
    $$ \cup_{j \in J} Ω_j $$
    和交集
    $$ \cap_{j \in J} Ω_j $$
    也都是可测集.

> 重复一个例子: 如果
  $$ E $$
  只包含了一部分边界点, 而不包含其他边界点, 那么
  $$ E $$
  既不是开的也不是闭的.

- 对于每一个可测集
  $$ Ω $$,
  我们都指派了一个满足如下性质的`勒贝格测度`
  $$ m(Ω) $$.
  - (v) (__空集__) 空集
    $$ \varnothing $$
    的测度是
    $$ m(\varnothing) = 0 $$.
  - (vi) (__正性__) 对于每一个可测集
    $$ Ω $$,
    都有
    $$ 0 ≤ m(Ω) ≤ +∞ $$.
  - (vii) (__单调性__) 如果
    $$ A \subseteq B $$,
    并且
    $$ A $$
    和
    $$ B $$
    都是可测集, 那么
    $$ m(A) ≤ m(B) $$.
  - (viii) (__有限次可加性__) 如果
    $$ (A_j)_{j \in J} $$
    是有限多个可测集, 那么
    $$ m(\cup_{j \in J} A_j) ≤ \sum_{j \in J} m(A_j) $$.
  - (ix) (__有限可加性__) 如果
    $$ (A_j)_{j \in J} $$
    是有限多个彼此不相交的可测集, 那么
    $$ m(\cup_{j \in J} A_j) = \sum_{j \in J} m(A_j) $$.
  - (x) (__可数次可加性__) 如果
    $$ (A_j)_{j \in J} $$
    是可数个可测集, 那么
    $$ m(\cup_{j \in J} A_j) ≤ \sum_{j \in J} m(A_j) $$.
  - (xi) (__可数可加性__) 如果
    $$ (A_j)_{j \in J} $$
    是可数个彼此不相交的可测集, 那么
    $$ m(\cup_{j \in J} A_j) = \sum_{j \in J} m(A_j) $$.
  - (xii) (__正规化__) 单位立方体
    $$ [0, 1]^n = \{( x_1, ..., x_n) \in R^n: $$
    对于所有的
    $$ 1 ≤ j ≤ n $$
    都有
    $$ 0 ≤ x_j ≤ 1 \} $$
    的测度是
    $$ m([0, 1]^n) = 1 $$.
  - (xiii) (__平移不变性__) 如果
    $$ Ω $$
    是一个可测集, 并且
    $$ x \in R^n $$,
    那么
    $$ x + Ω := \{ x + y: y \in Ω \} $$
    也是一个可测集, 并且
    $$ m(x + Ω) = m(Ω) $$.

---

- 引理 (__可测集的性质__)
  - (a) 如果
    $$ E $$
    是可测的, 那么
    $$ R^n \backslash E $$
    也是可测的.
  - (b) (__平移不变性__) 如果
    $$ E $$
    是可测的, 并且
    $$ x \in R^n $$,
    那么
    $$ x + E $$
    也是可测的, 并且有
    $$ m(x + E) = m(E) $$.
  - (c) 如果
    $$ E_1 $$
    和
    $$ E_2 $$
    都是可测的, 那么
    $$ E_1 \cap E_2 $$
    和
    $$ E_1 \cup E_2 $$
    也都可测.
  - (d) (__布尔代数性质__) 如果
    $$ E_1 $$,
    $$ E_2 $$,
    ...,
    $$ E_N $$
    都是可测的, 那么
    $$ \cup_{j = 1}^N E_j $$
    和
    $$ \cap_{j = 1}^N E_j $$
    也都是可测的.
  - (e) 每一个开盒子都是可测的, 每一个闭盒子也都是可测的.
  - (f) 任意一个外测度为零的集合
    $$ E $$
    (即
    $$ m^{*} (E) = 0 $$)
    都是可测的.

- 引理 (__有限可加性__) 如果
  $$ (E_j)_{j \in J} $$
  是有限个不相交的可测集, 而
  $$ A $$
  是任意一个集合 (不一定是可测的), 那么有
  - $$
      m^{*} (A \cap \bigcup_{j \in J} E_j) =
      \sum_{j \in J} m^{*} (A \cap E_j)
    $$
  - 另外, 还有
    $$ m(\cup_{j \in J} E_j) = \sum_{j \in J} m (E_j) $$.

- 推论 如果
  $$ A \subseteq B $$
  是两个可测集, 那么
  $$ B \backslash A $$
  也是可测的, 并且
  - $$ m(B \backslash A) = m(B) - m(A) $$

- 引理 (__可数可加性__) 如果
  $$ (E_j)_{j \in J} $$
  是可数个不相交的可测集, 那么
  $$ \cup_{j \in J} E_j $$
  是可测的, 并且
  $$ m(\cup_{j \in J} E_j) = \sum_{j \in J} m(E_j) $$.

- 引理 (__σ 代数性质__) 如果
  $$ (Ω_j)_{j \in J} $$
  是任意可数个可测集 (从而
  $$ J $$
  是可数的), 那么并集
  $$ \cup_{j \in J} Ω_j $$
  和交集
  $$ \cap_{j \in J} Ω_j $$
  也都是可测的.

```
引理 每一个开集都能写成可数个或者有限个开盒子的并集.
```

- 定义 (__可测函数__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to R^m $$
  是一个函数. 函数
  $$ f $$
  是`可测的`, 当且仅当对于每一个开集
  $$ V \subseteq R^m $$,
  $$ f^{-1} (V) $$
  都是可测的.

```
就像之前讨论的那样, 我们在现实生活中处理的绝大多数集合都是可测的,
因此我们在现实生活中处理的大部分函数自然也是可测的.
例如, 连续函数就是可测的.
```

- 引理 (__连续函数是可测的__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to R^m $$
  是一个连续函数. 那么
  $$ f $$
  也是可测的.

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to R^m $$
  是一个函数. 那么
  $$ f $$
  是可测的, 当且仅当对于每一个开盒子
  $$ B $$,
  $$ f^{-1} (B) $$
  都是可测的.

- 推论 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to R^m $$
  是一个函数. 如果
  $$ f = (f_1, ..., f_m) $$,
  其中
  $$ f_j: Ω \to R $$
  是
  $$ f $$
  的第
  $$ j $$
  个分量, 那么
  $$ f $$
  是可测的, 当且仅当每一个单独的
  $$ f_j $$
  都是可测的.

```
遗憾的是, 两个可测函数的复合并不一定是可测的.
不过我们还有下面这个最佳结果: 连续函数作用在可测函数上的结果是可测的.
```

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ W $$
  是
  $$ R^m $$
  的开子集. 如果
  $$ f: Ω \to W $$
  是可测的, 并且
  $$ g: W \to R^p $$
  是一个连续函数, 那么
  $$ g \circ f: Ω \to R^p $$
  是可测的.

- 推论 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集. 如果
  $$ f: Ω \to R $$
  是一个可测函数, 那么
  $$ |f| $$,
  $$ \max(f, 0) $$
  和
  $$ \min(f, 0) $$
  也都是可测的.

- 推论 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集. 如果
  $$ f: Ω \to R $$
  和
  $$ g: Ω \to R $$
  都是可测函数, 那么
  $$ f + g $$,
  $$ f - g $$,
  $$ fg $$,
  $$ \max(f, g) $$
  以及
  $$ \min(f, g) $$
  都是可测函数. 如果对于所有的
  $$ x \in Ω $$
  都有
  $$ g(x) ≠ 0 $$,
  那么
  $$ f / g $$
  也是可测的.

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to R $$
  是一个函数. 那么
  $$ f $$
  是可测的, 当且仅当对于每一个实数
  $$ a $$,
  $$ f^{-1} ((a, ∞)) $$
  都是可测的.

### 勒贝格积分

- 定义 (__简单函数__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to R $$
  是一个可测函数. 如果象集
  $$ f(Ω) $$
  是一个有限集, 那么我们称
  $$ f $$
  是一个`简单函数`.
  - 也就是说, 存在有限个实数
    $$ c_1 $$,
    $$ c_2 $$,
    ...,
    $$ c_N $$,
    使得对于每一个
    $$ x \in Ω $$
    都存在一个
    $$ 1 ≤ j ≤ N $$
    满足
    $$ f(x) = c_j $$.

```
我们给出简单函数的三个基本性质:
它们构成一个向量空间,
它们是特征函数的线性组合,
它们逼近可测函数.
更准确地说, 我们有如下三个引理.
```

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的一个可测子集, 并设
  $$ f: Ω \to R $$
  和
  $$ g: Ω \to R $$
  都是简单函数, 那么
  $$ f + g $$
  是一个简单函数, 另外, 对于任意的标量
  $$ c \in R $$,
  函数
  $$ cf $$
  也是一个简单函数.

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的一个可测子集, 并设
  $$ f: Ω \to R $$
  是一个简单函数. 那么存在有限多个实数
  $$ c_1 $$,
  ...,
  $$ c_N $$
  和
  $$ Ω $$
  中的有限多个互不相交的可测集
  $$ E_1 $$,
  $$ E_2 $$,
  ...,
  $$ E_N $$,
  使得
  $$ f = \sum_{i = 1}^{N} c_i χ E_i $$.

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的一个可测子集, 并设
  $$ f: Ω \to R $$
  是一个可测函数. 如果
  $$ f $$
  始终是非负的, 即对于所有的
  $$ x \in Ω $$
  都有
  $$ f(x) ≥ 0 $$,
  那么存在一个简单函数序列
  $$ f_1 $$,
  $$ f_2 $$,
  $$ f_3 $$,
  ..., 其中
  $$ f_n: Ω \to R $$,
  使得序列
  $$ f_n $$
  是非负且单调递增的,
  - $$ 0 ≤ f_1(x) ≤ f_2(x) ≤ f_3(x) ≤ ... $$,
    $$ x \in Ω $$
  - 而且该序列逐点收敛于
    $$ f $$:
  - $$ \lim_{n \to \infty} f_n(x) = f(x) $$,
    $$ x \in Ω $$

---

- 定义 (__简单函数的勒贝格积分__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的一个可测子集, 并设
  $$ f: Ω \to R $$
  是一个非负的简单函数, 那么
  $$ f $$
  是可测的, 象集
  $$ f(Ω) $$
  是有限集并且包含在
  $$ [0, ∞) $$
  中. 于是, 我们把
  $$ f $$
  在
  $$ Ω $$
  上的`勒贝格积分`
  $$ \int_{Ω} f $$
  定义为:
  - $$
      \int_{Ω} f := \sum_{λ \in f(Ω); λ > 0}
      λm(\{ x \in Ω: f(x) = λ \})
    $$
  - 我们有时也把
    $$ \int_{Ω} f $$
    记作
    $$ \int_{Ω} f dm $$
    (以此来强调勒贝格测度
    $$ m $$
    的作用), 或者使用一个像
    $$ x $$
    这样的虚拟变量, 比如
    $$ \int_{Ω} f(x) dx $$.

```
注意, 积分的这个定义与我们对积分 (至少非负函数的积分) 的直观概念相对应,
也就是说, 我们把积分看作函数图像下方的面积 (或高维情形下的体积).
关于非负简单函数的积分, 还有另外一种表述.
```

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ E_1 $$,
  $$ E_2 $$,
  ...,
  $$ E_N $$
  是
  $$ Ω $$
  的有限个互不相交的可测子集, 设
  $$ c_1 $$,
  ...,
  $$ c_N $$
  都是非负数 (不必两两不同), 那么有
  - $$
      \int_{Ω} \sum_{j = 1}^{N} c_j χ E_j =
      \sum_{j = 1}^{N} c_j m(E_j)
    $$

```
现在我们从非负简单函数的积分过渡到非负可测函数的积分.
有时我们允许可测函数的取值为 +∞.
```

- 定义 (__从上方控制__) 设
  $$ f: Ω \to R $$
  和
  $$ g: Ω \to R $$
  都是函数. 我们称
  $$ f $$
  从上方控制
  $$ g $$,
  或者
  $$ g $$
  从下方控制
  $$ f $$,
  当且仅当对于所有的
  $$ x \in Ω $$
  都有
  $$ f(x) ≥ g(x) $$.
  - 有时, 我们使用
    $$ f $$
    支配
    $$ g $$
    来代替
    $$ f $$
    从上方控制
    $$ g $$.

- 定义 (__非负函数的勒贝格积分__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to [0, ∞] $$
  是一个非负的可测函数. 那么, 我们把
  $$ f $$
  在
  $$ Ω $$
  上的`勒贝格积分`
  $$ \int_Ω f $$
  定义为
  - $$ \int_Ω f := \sup \{ \int_Ω s: s $$
    是一个非负简单函数, 并且
    $$ s $$
    从下方控制
    $$ f \} $$
  - 有趣的是, 在这里我们不需要让这个下积分与上积分相等.
  - 注意, 如果
    $$ Ω' $$
    是
    $$ Ω $$
    的任意一个可测子集, 那么通过把
    $$ f $$
    限制到
    $$ Ω' $$,
    我们也可以把
    $$ \int_{Ω'} f $$
    定义为
    $$ \int_{Ω'} f := \int_{Ω'} f \mid_{Ω'} $$.

- 我们必须验证这个定义与前面的非负简单函数的勒贝格积分概念是一致的.
  也就是说, 如果
  $$ f: Ω \to R $$
  是一个非负简单函数, 那么由上述定义给出的
  $$ \int_Ω f $$
  的值应当等于由之前的定义给出的
  $$ \int_Ω f $$
  的值.
  - 这一点显然成立, 因为
    $$ f $$
    一定能从下方控制它自身, 而且, 其他任意一个从下方控制
    $$ f $$
    的非负简单函数
    $$ s $$
    都满足
    $$ \int_Ω s ≤ \int_Ω f $$.
  - 注意, 由于零是从下方控制
    $$ f $$
    的非负简单函数, 因此
    $$ \int_Ω f $$
    始终不小于零. 当然,
    $$ \int_Ω f $$
    可以等于
    $$ +∞ $$.

---

- 命题 设
  $$ Ω $$
  是一个可测集, 并设
  $$ f: Ω \to [0, ∞] $$
  和
  $$ g: Ω \to [0, ∞] $$
  都是非负可测函数.
  - (a)
    $$ 0 ≤ \int_Ω f ≤ ∞ $$.
    另外,
    $$ \int_Ω f = 0 $$
    当且仅当
    $$ f(x) = 0 $$
    几乎对于
    $$ Ω $$
    中的每一个
    $$ x $$
    都成立.
  - (b) 对于任意的正数
    $$ c $$,
    有
    $$ \int_Ω cf = c \int_Ω f $$.
  - (c) 如果对于所有的
    $$ x \in Ω $$
    都有
    $$ f(x) ≤ g(x) $$,
    那么
    $$ \int_Ω f ≤ \int_Ω g $$.
  - (d) 如果
    $$ f(x) = g(x) $$
    几乎对于
    $$ Ω $$
    中的每一个
    $$ x $$
    都成立, 那么
    $$ \int_Ω f = \int_Ω g $$.
  - (e) 如果
    $$ Ω' \subseteq Ω $$
    是一个可测集, 那么
    $$ \int_{Ω'} f = \int_Ω f χ Ω' ≤ \iint_Ω f $$.

```
注 命题 (d) 十分有趣, 它说的是我们可以修改函数在任意测度为零的集合上的值
(例如, 你可以修改每一个有理数上的值), 而且这不会对其积分值产生任何影响.
这似乎表明任何单独的点, 即使是测度为零的点集, 都对函数积分的结果没有任何"贡献".
只有正测度的点集才会对积分产生影响.
```

```
在前几章中我们已经看到, 积分运算与极限运算
(或者类似于极限的概念, 比如上确界) 的次序并不总是可以交换的.
但是, 倘若函数序列是单调递增的,
那么勒贝格积分与极限运算的次序就是可以交换的.
```

- 定理 (__勒贝格单调收敛定理__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ (f_n)_{n = 1}^{\infty} $$
  是一个非负可测函数序列, 其中
  $$ f_i: Ω \to R $$,
  而且这个序列还是单调递增的, 即对于每一个
  $$ x \in Ω $$
  都有
  - $$ 0 ≤ f_1 (x) ≤ f_2 (x) ≤ f_3 (x) ≤ ... $$
  - (注意, 在这里我们假设
    $$ f_n (x) $$
    关于
    $$ n $$
    是单调递增的这个概念不同于
    $$ f_n (x) $$
    关于
    $$ x $$
    是单调递增的.) 于是有
  - $$ 0 ≤ \int_Ω f_1 ≤ \int_Ω f_2 ≤ \int_Ω f_3 ≤ ... $$
  - 和
  - $$ \int_Ω \sup_n f_n = \sup_n \int_Ω f_n $$

- 引理 (__交换加法运算与积分运算的次序__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to [0, ∞] $$
  和
  $$ g: Ω \to [0, ∞] $$
  都是可测函数, 那么
  $$ \int_Ω (f + g) = \int_Ω f + \int_Ω g $$.

- 推论 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ g_1 $$,
  $$ g_2 $$,
  ... 是一个非负可测函数序列, 其中
  $$ g_i: Ω \to [0, ∞] $$,
  那么有
  - $$ \int_Ω \sum_{n = 1}^{\infty} g_n = \sum_{n = 1}^{\infty} \int_Ω g_n $$
  - 注意, 我们不必对上述和式的收敛性做出任何假设, 这个等式的两端可以同时等于
    $$ +∞ $$.
    但是, 我们绝对有必要假定函数的非负性.
- 类似地, 我们可以问能否交换极限运算与积分运算的次序.
  也就是说, 问下面这个式子是否成立
  - $$ \int_Ω \lim_{n \to \infty} f_n = \lim_{n \to \infty} \int_Ω f_n $$
  - 很遗憾, 上式并不成立, 下面的"移动颠簸"就是一个例子. 对于每一个
    $$ n = 1, 2, 3, ... $$,
    设
    $$ f_n: R \to R $$
    是函数
    $$ f_n = χ_{[n, n + 1)} $$.
    那么对于每一个
    $$ x $$
    有
    $$ \lim_{n \to \infty} f_n (x) = 0 $$,
    但对于每一个
    $$ n $$
    有
    $$ \int_R f_n = 1 $$,
    从而有
    $$ \lim_{n \to \infty} \int_R f_n = 1 ≠ 0 $$.
  - 换言之, 极限函数
    $$ \lim_{n \to \infty} f_n $$
    的积分最终会远小于任何一个初始积分. 然而,
    下面这个非常有用的法都引理表明了, 反过来的结论是不成立的,
    即极限函数的积分不可能大于初始积分 (的极限).

- 引理 (__法都引理__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f_1 $$,
  $$ f_2 $$,
  ... 是一个从
  $$ Ω $$
  到
  $$ [0, ∞] $$
  的非负函数序列. 那么有
  - $$
      \int_Ω \lim \inf_{n \to \infty} f_n ≤
      \lim \inf_{n \to \infty} \int_Ω f_n
    $$

- 注意, 我们允许函数在某些点处的取值是
  $$ +∞ $$.
  一个取值为
  $$ +∞ $$
  的函数甚至仍然可以有一个有限的积分.
  - 例如, 设
    $$ E $$
    是一个测度为零的集合, 函数
    $$ f: Ω \to R $$
    在
    $$ E $$
    上的取值等于
    $$ +∞ $$,
    但
    $$ f $$
    在其他任何地方的取值都等于零.
  - 那么,
    $$ \int_Ω f = 0 $$.
  - 但如果积分是有限的, 那么这个函数一定几乎处处有限.

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to [0, ∞] $$
  是一个非负可测函数, 而且
  $$ \int_Ω f $$
  是有限的. 那么
  $$ f $$
  几乎处处有限 (即集合
  $$ \{ x \in Ω: f(x) = +∞ \} $$
  的测度为零).

- 引理 (__Borel-Cantelli 引理__) 设
  $$ Ω_1 $$,
  $$ Ω_2 $$,
  ... 是
  $$ R^n $$
  的一列可测子集, 并且
  $$ \sum_{n = 1}^{\infty} m(Ω_n) $$
  是有限的. 那么集合
  $$ \{ x \in R^n: $$
  存在无限多个
  $$ n $$
  使得
  $$ x \in Ω_n \} $$
  的测度为零.
  - 换言之, 几乎每一个点都只属于有限多个
    $$ Ω_n $$.

---

- 定义 (__绝对可积函数__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集. 对于可测函数
  $$ f: Ω \to R^{*} $$,
  如果积分
  $$ \int_Ω |f| $$
  是有限的, 那么我们称
  $$ f $$
  是`绝对可积`的.
  - 显然,
    $$ |f| $$
    总是非负的, 因此即使
    $$ f $$
    是变号的, 这个定义也有意义. 绝对可积函数也被称为
    $$ L^1 (Ω) $$
    函数.
  - 如果
    $$ f: Ω \to R^{*} $$
    是一个函数, 那么我们把它的`正部`
    $$ f^{+}: Ω \to [0, ∞] $$
    和`负部`
    $$ f^{-}: Ω \to [0, ∞] $$
    分别定义为:
  - $$ f^{+} := \max (f, 0) $$;
    $$ f^{-} := - \min (f, 0) $$
  - 可知,
    $$ f^{+} $$
    和
    $$ f^{-} $$
    都是可测的. 另外, 观察可知,
    $$ f^{+} $$
    和
    $$ f^{-} $$
    都是非负函数, 而且
    $$ f = f^{+} - f^{-} $$,
    $$ |f| = f^{+} + f^{-} $$.

---

- 定义 (__勒贝格积分__) 设
  $$ f: Ω \to R^{*} $$
  是一个绝对可积函数, 我们把
  $$ f $$
  的`勒贝格积分`
  $$ \int_Ω f $$
  定义为
  - $$ \int_Ω f := \int_Ω f^{+} - \int_Ω f^{-} $$
  - 注意, 因为
    $$ f $$
    是绝对可积的, 所以
    $$ \int_Ω f^{+} $$
    和
    $$ \int_Ω f^{-} $$
    都小于或者等于
    $$ \int_Ω |f| $$,
    因此它们都是有限的. 所以,
    $$ \int_Ω f $$
    总是有限的. 我们绝不会遇到不确定形式
    $$ +∞ - (+∞) $$.
  - 注意, 这个定义与前面关于非负函数的勒贝格积分定义是一致的, 因为如果
    $$ f $$
    是非负的, 那么
    $$ f^{+} = f $$
    且
    $$ f^{-} = 0 $$.
  - 此外, 我们还有下面这个有用的三角不等式
    $$ |\int_Ω f| ≤ \int_Ω f^{+} + \int_Ω f^{-} = \int_Ω |f| $$.

- 命题 设
  $$ Ω $$
  是一个可测集, 并设
  $$ f: Ω \to R $$
  和
  $$ g: Ω \to R $$
  都是绝对可积函数.
  - (a) 对于任意的实数
    $$ c $$
    (正数, 零或负数),
    $$ cf $$
    是绝对可积的, 并且
    $$ \int_Ω cf = c \int_Ω f $$.
  - (b) 函数
    $$ f + g $$
    是绝对可积的, 并且
    $$ \int_Ω (f + g) = \int_Ω f + \int_Ω g $$.
  - (c) 如果对于所有的
    $$ x \in Ω $$
    都有
    $$ f(x) ≤ g(x) $$,
    那么
    $$ \int_Ω f ≤ \int_Ω g $$.
  - (d) 如果
    $$ f(x) = g(x) $$
    几乎对于每一个
    $$ x \in Ω $$
    都成立, 那么
    $$ \int_Ω f = \int_Ω g $$.

---

- 我们曾提到过, 极限运算和积分运算的次序是不能随意交换的, 即
  $$ \lim \int f_n = \int \lim f_n $$
  不一定成立, 就像在"移动颠簸"的例子中所展现的那样. 但是,
  如果存在一个绝对可积的函数能够从上方控制每一个函数
  $$ f_n $$,
  那么我们就可以排除移动颠簸的例子而成功地交换极限运算和积分运算的次序.
  - 这个极其有用的重要定理被称为`勒贝格控制收敛定理`.
- 定理 (__勒贝格控制收敛定理__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f_1 $$,
  $$ f_2 $$,
  ... 是一列从
  $$ Ω $$
  到
  $$ R^{*} $$
  的可测函数, 而且这个函数序列是逐点收敛的. 如果存在一个绝对可积函数
  $$ F: Ω \to [0, ∞] $$,
  使得对于所有的
  $$ x \in Ω $$
  和所有的
  $$ n = 1, 2, 3, ... $$
  都有
  $$ |f_n (x)| ≤ F(x) $$,
  那么
  - $$ \int_Ω \lim_{n \to \infty} f_n = \lim_{n \to \infty} \int_Ω f_n $$

- 定义 (__上勒贝格积分和下勒贝格积分__) 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to R $$
  是一个函数 (不一定是可测的).
  - 我们把`上勒贝格积分`
    $$ \overline{\int}_Ω f $$
    定义为:
  - $$ \overline{\int}_Ω f := \inf \{ \int_Ω g | g: Ω \to R $$
    是从上方控制
    $$ f $$
    的绝对可积函数
    $$ \} $$
  - 并把`下勒贝格积分`
    $$ \underline{\int}_Ω f $$
    定义为:
  - $$ \underline{\int}_Ω f := \sup \{ \int_Ω g | g: Ω \to R $$
    是从下方控制
    $$ f $$
    的绝对可积函数
    $$ \} $$
  - 容易看出
    $$ \underline{\int}_Ω f ≤ \overline{\int}_Ω f $$.
    当
    $$ f $$
    绝对可积时, 等式成立. 其逆命题也成立.

- 引理 设
  $$ Ω $$
  是
  $$ R^n $$
  的可测子集, 并设
  $$ f: Ω \to R $$
  是一个函数 (不一定是可测的). 设
  $$ A $$
  是一个实数. 如果
  $$ \overline{\int}_Ω f = \underline{\int}_Ω f = A $$,
  那么
  $$ f $$
  是绝对可积的, 并且
  - $$ \int_Ω f = \overline{\int}_Ω f = \underline{\int}_Ω f = A $$

---

- __每一个黎曼可积的函数也是勒贝格可积的__,
  至少在有界区间上如此; __但反之不成立__.
  - 例如, 函数
    $$ f: [0, 1] \to R $$
    具有如下定义: 当
    $$ x $$
    是有理数时,
    $$ f(x) := 1 $$;
    当
    $$ x $$
    是无理数时,
    $$ f(x) := 0 $$.
    那么,
    $$ f $$
    不是黎曼可积的.
  - 另外,
    $$ f $$
    是集合
    $$ Q \cap [0, 1] $$
    的特征函数, 这里的
    $$ Q \cap [0, 1] $$
    是一个可数集, 从而其测度为
    $$ 0 $$.
    于是
    $$ f $$
    是勒贝格可积的并且
    $$ \int_{[0, 1]} f = 0 $$.

```
由此可见, 与黎曼积分相比, 勒贝格积分可以处理更多的函数.
这是我们为什么在分析学中使用勒贝格积分的主要原因之一.
另一个原因是, 勒贝格积分可以很好地与极限运算进行交互,
这一点已经在勒贝格单调收敛定理, 法都引理以及勒贝格控制收敛定理中得到证明.
但在黎曼积分中, 并不存在这样的相应定理.
```

> 相对而言, 最后两章, 略显单薄~

- [富比尼定理](https://en.wikipedia.org/wiki/Fubini's_theorem)

> 结: 2024 年 10 月
